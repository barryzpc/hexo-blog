<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>PHPä¸‹ä½¿ç”¨rabbitMQæŠ¥é”™Call to undefined function PhpAmqpLib\\Wire\\IO\\socket_strerror()çš„é—®é¢˜æŸ¥æ‰¾ä¸è§£å†³</title>
    <url>//articles/2020/08/03/1596442518677.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180626.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><p>ä»Šå¤©åœ¨ä¸€ä¸ªæ–°çš„ç¯å¢ƒä¸‹ï¼Œéƒ¨ç½²ä¸€ä¸ªé¡¹ç›®ï¼Œå…¶ä¸­æœ‰ç”¨åˆ°rabbitMQã€‚ä½†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç°æŠ¥é”™ã€‚é”™è¯¯ä¿¡æ¯ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;Call to undefined function PhpAmqpLib\\Wire\\IO\\socket_strerror()&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;file&quot;</span>: <span class="string">&quot;D:\\project\\***\\vendor\\php-amqplib\\php-amqplib\\PhpAmqpLib\\Wire\\IO\\StreamIO.php&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;line&quot;</span>: <span class="number">89</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥æ‰¾é—®é¢˜"><a href="#æŸ¥æ‰¾é—®é¢˜" class="headerlink" title="æŸ¥æ‰¾é—®é¢˜"></a>æŸ¥æ‰¾é—®é¢˜</h2><p>æ ¹æ®æç¤ºæˆ‘åœ¨å¯¹åº”çš„æ–‡ä»¶å’Œè¡Œæ•°ä¸‹æ‰¾åˆ°ä»£ç ï¼š<br><img src="https://b3logfile.com/file/2020/08/image-9083abe9.png" alt="image.png"></p>
<p>æˆ‘åœ¨æœ¬åœ°ç¯å¢ƒä¸‹æ‰¾åˆ°<code>socket_strerror()</code>æ‰€åœ¨çš„æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\***\plugins\php\lib\php.jar!\stubs\sockets\sockets.php</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯PHPçš„ä¸€ä¸ªæ‰©å±•ï¼Œæ—¢ç„¶æ˜¯<code>Call to undefined function</code>é‚£å¾ˆå¯èƒ½å°±æ˜¯<code>sockets</code>ç›¸å…³çš„æ‰©å±•æ²¡æœ‰å®‰è£…æˆ–è€…æ‰“å¼€ã€‚</p>
<p>ç»è¿‡æŸ¥çœ‹<code>php.ini</code>æ–‡ä»¶ï¼Œå‘ç°æœç„¶æ˜¯æ‰©å±•æ²¡æœ‰æ‰“å¼€<br><img src="https://b3logfile.com/file/2020/08/image-3f0d6c1f.png" alt="image.png"></p>
<h2 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h2><ol>
<li><p>å»æ‰<code>;extension=php_sockets.dll</code>å‰é¢çš„<code>;</code>ï¼Œé‡å¯æœåŠ¡<code>PHP</code>,<code>apache</code>æœåŠ¡ã€‚</p>
</li>
<li><p>æŸ¥çœ‹<code>phpinfo()</code>:<br><img src="https://b3logfile.com/file/2020/08/image-f62cebbb.png" alt="image.png"><br>å¯ä»¥çœ‹åˆ°<code>sockets</code>æ‰©å±•å·²å¯ç”¨ã€‚æŠ¥é”™æ¶ˆå¤±ï¼Œé¡¹ç›®å¯æ­£å¸¸ä½¿ç”¨ã€‚</p>
</li>
</ol>
]]></content>
      <tags>
        <tag>RabbitMQ</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>ç³»ç»Ÿæ›´æ–°å¯¼è‡´ï¼šPHPæŠ¥é”™ &#39;libonig.so.2: cannot open shared object file... &#39;é—®é¢˜è§£å†³</title>
    <url>//articles/2020/08/27/1598522167215.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20200304.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>ä»Šå¤©æ²¡äº‹æŸ¥çœ‹äº†ä¸€ä¸‹è‡ªå·±æœåŠ¡å™¨è¿è¡Œçš„phpå®šæ—¶æ¨é€ä»»åŠ¡çš„æ—¥å¿—ï¼Œå‘ç°ä»Šå¤©çš„è¿è¡ŒæŠ¥é”™äº†ã€‚è€Œä¹‹å‰çš„è¿è¡Œéƒ½æˆåŠŸäº†ã€‚</p>
<blockquote>
<p>æŠ¥é”™ä¿¡æ¯ï¼š</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;php&#x2F;bin&#x2F;php: error while loading shared libraries: libonig.so.2: cannot open shared object file: No such file or directory</span><br></pre></td></tr></table></figure>

<p>æˆ‘å›æƒ³äº†ä¸€ä¸‹è‚¯å®šæ˜¯æ˜¨å¤©æ‰§è¡Œäº†<code>yum -y update</code> è¿™ä¸ªå‘½ä»¤æ›´æ–°äº†ç³»ç»Ÿï¼Œå¯¼è‡´ä¸€äº›æ—§çš„åº“è¢«åˆ é™¤äº†ã€‚</p>
<h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>é”™è¯¯æç¤º<code>libonig.so.2</code>æ‰¾ä¸åˆ°äº†ã€‚å»åˆ°<code>/usr/lib64</code>ç›®å½•ä¸‹å‘ç°ç¡®å®æ²¡æœ‰è¿™ä¸ªåº“ã€‚<br>é‚£ä¹ˆå°±è¦æƒ³åŠæ³•æŠŠè¿™ä¸ªåº“è£…ä¸Šå»åº”è¯¥å°±æ²¡é—®é¢˜äº†</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><ol>
<li>æ‰§è¡Œå‘½ä»¤ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install oniguruma - y</span><br><span class="line">yum install libsodium -y</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç„¶åæ‰§è¡Œ php -v ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">php -v</span><br></pre></td></tr></table></figure>

<p>å‘ç°è¿˜æ˜¯æŠ¥åŸæ¥çš„é”™è¯¯ã€‚å†æ¬¡è¿›å…¥<code>/usr/lib64</code>ç›®å½•ä¸‹å‘ç°ç›®å½•ä¸‹æ²¡æœ‰<code>libonig.so.2</code>ï¼Œä½†æ˜¯æœ‰<code>libonig.so</code>ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯æŠŠ<code>libonig.so</code>è½¯é“¾åˆ°<code>libonig.so.2</code>å°±å¯ä»¥äº†ã€‚</p>
<ol start="3">
<li>äºæ˜¯æ‰§è¡Œï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln -s &#x2F;usr&#x2F;lib64&#x2F;libonig.so &#x2F;usr&#x2F;lib64&#x2F;libonig.so.2</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å†æ¬¡è¿è¡Œ<code>php -v</code>ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@****~]# php -v </span><br><span class="line">PHP 7.4.4 (cli) (built: Apr 14 2020 10:27:44) ( NTS )</span><br><span class="line">Copyright (c) The PHP Group</span><br><span class="line">Zend Engine v3.4.0, Copyright (c) Zend Technologies</span><br></pre></td></tr></table></figure>

<p>5.å‘ç°phpæ­£å¸¸è¿è¡Œï¼Œ é—®é¢˜å¾—åˆ°è§£å†³ï¼Œæ‰€ä»¥åƒä¸‡ä¸è¦è½»æ˜“æ‰§è¡Œ<code>yum -y update</code></p>
]]></content>
      <tags>
        <tag>linux</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨PHPä¸‹è½½ç½‘ç»œå›¾ç‰‡æˆ–æ–‡ä»¶</title>
    <url>//articles/2020/08/12/1597218334271.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20181023.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="å˜é‡è¯´æ˜"><a href="#å˜é‡è¯´æ˜" class="headerlink" title="å˜é‡è¯´æ˜"></a>å˜é‡è¯´æ˜</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å›¾ç‰‡è¦ä¿å­˜çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">$path = <span class="string">&#x27;/test/test.jpg&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¦ä¸‹è½½çš„ç½‘ç»œå›¾ç‰‡é“¾æ¥</span></span><br><span class="line">$img_url = <span class="string">&#x27;http://az29176.vo.msecnd.net/videocontent/GrizzlyPeakSF_FF_768_HD_ZH-CN1078880766.jpg&#x27;</span>ï¼› </span><br></pre></td></tr></table></figure>

<h2 id="file-get-contentsä¸‹è½½ç½‘ç»œå›¾ç‰‡"><a href="#file-get-contentsä¸‹è½½ç½‘ç»œå›¾ç‰‡" class="headerlink" title="file_get_contentsä¸‹è½½ç½‘ç»œå›¾ç‰‡"></a>file_get_contentsä¸‹è½½ç½‘ç»œå›¾ç‰‡</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">file_put_contents($path, file_get_contents($img_url));</span><br></pre></td></tr></table></figure>

<ul>
<li>psï¼šå½“ç”¨file_get_contents()å‡½æ•°å»ä¸‹è½½å¸¦æœ‰httpsåè®®çš„å›¾ç‰‡æˆ–è€…å†…å®¹æ—¶ï¼ŒæŠ¥é”™ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">file_get_contents(): SSL operation failed with code 1. OpenSSL Error message</span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$arrContextOptions &#x3D; array(</span><br><span class="line">    &quot;ssl&quot; &#x3D;&gt; array(</span><br><span class="line">        &quot;verify_peer&quot; &#x3D;&gt; false,</span><br><span class="line">        &quot;verify_peer_name&quot; &#x3D;&gt; false,</span><br><span class="line">    ),</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">file_put_contents($path,file_get_contents($img_url, false, stream_context_create($arrContextOptions)));</span><br></pre></td></tr></table></figure>

<h2 id="curlä¸‹è½½ç½‘ç»œå›¾ç‰‡"><a href="#curlä¸‹è½½ç½‘ç»œå›¾ç‰‡" class="headerlink" title="curlä¸‹è½½ç½‘ç»œå›¾ç‰‡"></a>curlä¸‹è½½ç½‘ç»œå›¾ç‰‡</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> &#x2F;&#x2F;æ ¹æ®å›¾ç‰‡URLè·å–å›¾ç‰‡å†…å®¹ï¼Œé€‚ç”¨äºhttps</span><br><span class="line">function getImg($url)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    $ch &#x3D; curl_init();</span><br><span class="line">    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, &#39;GET&#39;);</span><br><span class="line">    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);&#x2F;&#x2F;è·³è¿‡ssléªŒè¯</span><br><span class="line">    curl_setopt($ch, CURLOPT_URL, $url);</span><br><span class="line">    ob_start();</span><br><span class="line">    curl_exec($ch);</span><br><span class="line">    $return_content &#x3D; ob_get_contents();</span><br><span class="line">    ob_end_clean();</span><br><span class="line">    return $return_content;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file_put_contents($path, getImg($img_url));</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>CURL</tag>
      </tags>
  </entry>
  <entry>
    <title>Apache(wamp)ä¸‹é…ç½®sslè¯ä¹¦</title>
    <url>//articles/2020/08/04/1596512458890.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180603.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>WAMP + SSL</p>
<p><strong>W</strong>indow + <strong>A</strong>pache + <strong>M</strong>ySQL + <strong>P</strong>HP </p>
<h2 id="é…ç½®æ­¥éª¤"><a href="#é…ç½®æ­¥éª¤" class="headerlink" title="é…ç½®æ­¥éª¤"></a>é…ç½®æ­¥éª¤</h2><ol>
<li>åœ¨apacheå®‰è£…ç›®å½•ä¸‹æ‰“å¼€httpd.confæ–‡ä»¶ï¼Œæ‰¾åˆ°ï¼Œå¹¶æ‰“å¼€æ³¨é‡Šï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LoadModule socache_shmcb_module modules&#x2F;mod_socache_shmcb.so </span><br><span class="line">LoadModule ssl_module modules&#x2F;mod_ssl.so </span><br><span class="line">Include conf&#x2F;extra&#x2F;httpd-ssl.conf </span><br><span class="line">Include conf&#x2F;extra&#x2F;httpd-mpm.conf     &#x2F;&#x2F;è‹¥æ²¡æœ‰ï¼Œå¯å¿½ç•¥è¯¥é¡¹æ“ä½œ</span><br></pre></td></tr></table></figure></li>
<li>æ‰“å¼€ conf/extra/httpd-ssl.conf</li>
</ol>
<p>æ‰“å¼€ apache å®‰è£…ç›®å½•ä¸‹ conf/extra/httpd-ssl.conf æ–‡ä»¶ (ä¹Ÿå¯èƒ½æ˜¯conf.d/ssl.confï¼Œä¸æ“ä½œç³»ç»ŸåŠå®‰è£…æ–¹å¼æœ‰å…³)ï¼Œ åœ¨é…ç½®æ–‡ä»¶ä¸­æŸ¥æ‰¾ä»¥ä¸‹é…ç½®è¯­å¥:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#æ·»åŠ  SSL åè®®æ”¯æŒåè®®ï¼Œå»æ‰ä¸å®‰å…¨çš„åè®®</span><br><span class="line">SSLProtocol all -SSLv2 -SSLv3</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹åŠ å¯†å¥—ä»¶å¦‚ä¸‹ ä¸åŒçš„è¯ä¹¦ï¼Œå‚æ•°ä¸åŒ</span><br><span class="line">SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!NULL:!DH:!EDH:!EXP:+MEDIUM   </span><br><span class="line">SSLHonorCipherOrder on</span><br><span class="line"></span><br><span class="line"># è¯ä¹¦å…¬é’¥é…ç½®  å¡«å†™ç»å¯¹è·¯å¾„</span><br><span class="line">SSLCertificateFile cert&#x2F;public.pem</span><br><span class="line"></span><br><span class="line"># è¯ä¹¦ç§é’¥é…ç½® å¡«å†™ç»å¯¹è·¯å¾„</span><br><span class="line">SSLCertificateKeyFile cert&#x2F;214873197740010.key</span><br><span class="line"></span><br><span class="line"># è¯ä¹¦é“¾é…ç½®ï¼Œå¦‚æœè¯¥å±æ€§å¼€å¤´æœ‰ &#39;#&#39;å­—ç¬¦ï¼Œè¯·åˆ é™¤æ‰</span><br><span class="line">SSLCertificateChainFile cert&#x2F;chain.pem</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>é…ç½®å®Œæˆåé‡å¯apacheå¯èƒ½ä¼šæ— æ³•é‡å¯ã€‚è¿›è¡Œä¸€ä¸‹æ“ä½œå¯æ•æ‰é”™è¯¯ä¿¡æ¯<br>é€€å‡ºwamp,æ‰“å¼€cmd<br>cd C:\wamp\bin\apache\apache2.4.9\bin     //apache çš„å®‰è£…ç›®å½•<br>httpd.exe -k install<br>httpd.exe -k start<br>æ£€æŸ¥æ˜¯å¦æŠ¥é”™<br>å¦‚æœæœ‰æŠ¥é”™ï¼Œæ ¹æ®é”™è¯¯æç¤ºè°ƒæ•´<br>å¦‚æœæ²¡æœ‰æŠ¥é”™ åˆ™è¿è¡Œ<br>httpd.exe -k stop</p>
</li>
<li><p>å¯åŠ¨wamp</p>
</li>
</ol>
<hr>
<h2 id="httpd-ssl-conf-å®Œæ•´é…ç½®ç²¾ç®€demo"><a href="#httpd-ssl-conf-å®Œæ•´é…ç½®ç²¾ç®€demo" class="headerlink" title="httpd-ssl.conf å®Œæ•´é…ç½®ç²¾ç®€demo"></a>httpd-ssl.conf å®Œæ•´é…ç½®ç²¾ç®€demo</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;VirtualHost *:443&gt;</span><br><span class="line">    DocumentRoot &quot;D:\project\app-test&quot;</span><br><span class="line">    ServerName www.test.com:443</span><br><span class="line">    ServerAlias www.test.com</span><br><span class="line">    ServerAdmin admin@example.com</span><br><span class="line">    &lt;Directory &quot;D:\project\app-test&quot;&gt;</span><br><span class="line">        #DirectoryIndex index-dev.php</span><br><span class="line">        Options +Indexes +Includes +FollowSymLinks +MultiViews</span><br><span class="line">        AllowOverride All</span><br><span class="line">        Require local</span><br><span class="line">        Require all granted</span><br><span class="line">    &lt;&#x2F;Directory&gt;</span><br><span class="line">    ErrorLog &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;logs&#x2F;errors.log&quot;</span><br><span class="line">    TransferLog &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;logs&#x2F;access.log&quot;</span><br><span class="line"></span><br><span class="line">    SSLEngine on</span><br><span class="line">    SSLCertificateFile &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;cert&#x2F;public.pem&quot;</span><br><span class="line">    SSLCertificateKeyFile &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;cert&#x2F;214873197740010.key&quot;</span><br><span class="line">    SSLCertificateChainFile &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;cert&#x2F;chain.pem&quot;</span><br><span class="line">    &lt;FilesMatch &quot;\.(cgi|shtml|phtml|php)$&quot;&gt;</span><br><span class="line">        SSLOptions +StdEnvVars</span><br><span class="line">    &lt;&#x2F;FilesMatch&gt;</span><br><span class="line">    &lt;Directory &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;cgi-bin&quot;&gt;</span><br><span class="line">        SSLOptions +StdEnvVars</span><br><span class="line">    &lt;&#x2F;Directory&gt;</span><br><span class="line">    BrowserMatch &quot;MSIE [2-5]&quot; \</span><br><span class="line">             nokeepalive ssl-unclean-shutdown \</span><br><span class="line">             downgrade-1.0 force-response-1.0</span><br><span class="line">    CustomLog &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;apache&#x2F;apache2.4.27&#x2F;logs&#x2F;ssl_request.log&quot; \</span><br><span class="line">              &quot;%t %h %&#123;SSL_PROTOCOL&#125;x %&#123;SSL_CIPHER&#125;x \&quot;%r\&quot; %b&quot;</span><br><span class="line">&lt;&#x2F;VirtualHost&gt;</span><br></pre></td></tr></table></figure>


]]></content>
      <tags>
        <tag>wamp</tag>
        <tag>ssl</tag>
      </tags>
  </entry>
  <entry>
    <title>ApacheæŠ¥é”™ Parent: child process 2744 exited with status 3221226356 -- Restarting</title>
    <url>//articles/2020/08/04/1596509366225.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20190711.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>Windowsç³»ç»Ÿ+apache+mysql+phpç¯å¢ƒä¸‹ï¼Œè®¿é—®é‡å¤§çš„æ—¶å€™åœ¨<code>apache_error.log</code> ä¸­å‡ºç°æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Parent: child process 2744 exited with status 3221226356 -- Restarting.</span><br></pre></td></tr></table></figure>

<h2 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h2><p>è¿™æ˜¯ç”±äºapacheçš„é»˜è®¤å †æ ˆå€¼è¾ƒå°ï¼Œæ‰€ä»¥Windowsä¸­ç»å¸¸ä¼šå‡ºç°æ­¤é—®é¢˜ã€‚ å½“ä½¿ç”¨åˆ†é…äº†å¤§é‡å †æ ˆçš„phpä»£ç æ—¶ï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚</p>
<p>æ‰€ä»¥è¦ä¿®æ”¹å †æ ˆå¤§å°ï¼ˆThreadStackSizeï¼‰ã€‚ å»ºè®®å°†å…¶è®¾ç½®ä¸º16 Mbï¼ˆ16777216ï¼‰</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p><code>ThreadStackSize</code>çš„è®¾ç½®æ˜¯åœ¨httpd-mpm.confæ–‡ä»¶ä¸­ã€‚ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹<code>apache</code>æ˜¯æ²¡æœ‰ä½¿ç”¨<code>mpm</code>æ¨¡å—çš„ã€‚æ‰€ä»¥è¦ç°ä¿®æ”¹<code>httpd.conf</code>æ–‡ä»¶ä¸­çš„é…ç½®ã€‚</p>
<ol>
<li>æ‰“å¼€<code>httpd.conf</code>ä¸­çš„æ³¨é‡Šï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Include conf&#x2F;extra&#x2F;httpd-mpm.conf</span><br></pre></td></tr></table></figure></li>
<li>æ‰¾åˆ°<code>ThreadStackSize</code>ä¿®æ”¹å…¶å¤§å°ï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;IfModule mpm_netware_module&gt;</span><br><span class="line">    ThreadStackSize      16777216</span><br><span class="line">    StartThreads           250</span><br><span class="line">    MinSpareThreads         25</span><br><span class="line">    MaxSpareThreads        250</span><br><span class="line">    MaxThreads            1000</span><br><span class="line">    MaxConnectionsPerChild   0</span><br><span class="line">&lt;&#x2F;IfModule&gt;</span><br></pre></td></tr></table></figure></li>
<li>é‡å¯wampæœåŠ¡ã€‚</li>
</ol>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>wamp</tag>
      </tags>
  </entry>
  <entry>
    <title>pythoné¡¹ç›®ä¾èµ–åº“çš„æ‰¹é‡å¯¼å‡ºå’Œå¯¼å…¥</title>
    <url>//articles/2020/07/24/1595584844339.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20191030.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><p>pythoné¡¹ç›®ä¸€èˆ¬éƒ½ä¼šç”¨åˆ°å¾ˆå¤šä¾èµ–ç¯å¢ƒï¼Œå½“æˆ‘ä»¬è¿ç§»é¡¹ç›®çš„æ—¶å€™ï¼Œè¿è¡Œç¯å¢ƒå’Œè¿è¡Œä»£ç éƒ½å¾ˆå¥½è¿ç§»ã€‚ä½†æ˜¯å¤§é‡ç¬¬ä¸‰æ–¹çš„ä¾èµ–åº“ï¼ˆè‡ªå¸¦çš„åº“å°±ä¸ç”¨æ‹…å¿ƒäº†ï¼‰ä¹Ÿéœ€è¦å¾ˆè½»æ¾çš„æ‰¹é‡è¿ç§»ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><h4 id="æ‰¹é‡å¯¼å‡º"><a href="#æ‰¹é‡å¯¼å‡º" class="headerlink" title="æ‰¹é‡å¯¼å‡º"></a>æ‰¹é‡å¯¼å‡º</h4><p>æ‰§è¡Œä¸‹é¢å‘½ä»¤å°†ä¾èµ–åº“åˆ°<code>python_lib.txt</code>æ–‡ä»¶ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip freeze &gt; python_lib.txt</span><br></pre></td></tr></table></figure>
<p>python_lib.txt ä¸­å†…å®¹å¤§è‡´æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mock&#x3D;&#x3D;4.0.2</span><br><span class="line">numpy&#x3D;&#x3D;1.16.2</span><br><span class="line">opencv-python&#x3D;&#x3D;4.1.1.26</span><br><span class="line">Pillow&#x3D;&#x3D;7.1.2</span><br><span class="line">protobuf&#x3D;&#x3D;3.11.3</span><br><span class="line">requests&#x3D;&#x3D;2.23.0</span><br><span class="line">scikit-learn&#x3D;&#x3D;0.22.2.post1</span><br><span class="line">scipy&#x3D;&#x3D;1.2.1</span><br><span class="line">Shapely&#x3D;&#x3D;1.7.0</span><br><span class="line">six&#x3D;&#x3D;1.14.0</span><br><span class="line">sklearn&#x3D;&#x3D;0.0</span><br><span class="line">tensorboard&#x3D;&#x3D;1.13.1</span><br><span class="line">tensorflow&#x3D;&#x3D;1.13.1</span><br><span class="line">tensorflow-estimator&#x3D;&#x3D;1.13.0</span><br><span class="line">termcolor&#x3D;&#x3D;1.1.0</span><br><span class="line">tornado&#x3D;&#x3D;6.0.4</span><br><span class="line">.......</span><br></pre></td></tr></table></figure>
<h4 id="æ‰¹é‡å¯¼å…¥"><a href="#æ‰¹é‡å¯¼å…¥" class="headerlink" title="æ‰¹é‡å¯¼å…¥"></a>æ‰¹é‡å¯¼å…¥</h4><p>å°†<code>python_lib.txt</code>æ–‡ä»¶æ‹·è´åˆ°æ–°çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œä¾èµ–åº“å°±ä¸€æ¬¡å®‰è£…ä¸Šäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install -r python_lib.txt</span><br></pre></td></tr></table></figure>


<h2 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h2><p>å¦‚æœä½ æœ‰æ›´å¤šæˆ–è€…æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ¬¢è¿ç•™è¨€</p>
]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>windowsç”Ÿäº§æœåŠ¡å™¨ä¸‹éƒ¨ç½²Flask</title>
    <url>//articles/2020/07/24/1595577454676.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20200530.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><p>å¾ˆå¤špythonå·¥ç¨‹å¸ˆï¼Œéƒ½ä¼šç”¨<strong>flask</strong> æ¥å¼€å‘ã€éƒ¨ç½²Web åº”ç”¨ã€‚ä½†ä¹Ÿæœ‰å¾ˆå¤šå·¥ç¨‹å¸ˆå°±ç›´æ¥ä½¿ç”¨ <code>app.run()</code>åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šå¯åŠ¨æœåŠ¡ã€‚</p>
<p>é‚£å¯èƒ½ä¼šå‘ç° Flask ç”¨ <code>app.run()</code>è¿™ç§æ–¹å¼å¯åŠ¨ï¼Œæœ‰å¼‚å¸¸ç‰¹åˆ«å®¹æ˜“é€€å‡ºï¼Œè€Œä¸”æ€§èƒ½å¾ˆå¼±ã€‚</p>
<p>ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œpythonå¸¸è§çš„webéƒ¨ç½²æ­é…æ˜¯ <code>nginx</code>+<code>gunicorn</code>ã€‚</p>
<p>ä½†æ˜¯è¿™ç§æ­é…åªé€‚åˆåœ¨Linuxç¯å¢ƒä¸‹ã€‚å…³äºè¿™ç§æ­é…çš„é…ç½®æ–¹æ³•ç½‘ä¸Šæœ‰å¾ˆå¤šã€‚åè€Œåœ¨windowsç¯å¢ƒä¸‹è¯¥ä½¿ç”¨ä»€ä¹ˆæ­é…æ¥éƒ¨ç½²ï¼Œç½‘ä¸Šè¯´çš„æ¯”ä¸å¤šã€‚è€Œæˆ‘ä»¬çš„é¡¹ç›®ç”±äºæŸç§ç‰¹æ®Šçš„åŸå› å°±å¿…é¡»æ­å»ºåœ¨windowsç¯å¢ƒä¸‹ï¼Œæ‰€ä»¥ä½¿ç”¨çš„éƒ¨ç½²æ–¹æ¡ˆæ˜¯ï¼š<code>Flask</code> + <code>Tornado</code>+<code>nginx</code>ã€‚</p>
<h2 id="è§£å†³æ–¹æ¡ˆç¤ºä¾‹"><a href="#è§£å†³æ–¹æ¡ˆç¤ºä¾‹" class="headerlink" title="è§£å†³æ–¹æ¡ˆç¤ºä¾‹"></a>è§£å†³æ–¹æ¡ˆç¤ºä¾‹</h2><h4 id="flaskæœåŠ¡æ–‡ä»¶-flask-app-py"><a href="#flaskæœåŠ¡æ–‡ä»¶-flask-app-py" class="headerlink" title="flaskæœåŠ¡æ–‡ä»¶ flask_app.py"></a>flaskæœåŠ¡æ–‡ä»¶ flask_app.py</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(&quot;/&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å®‰è£…Tornado"><a href="#å®‰è£…Tornado" class="headerlink" title="å®‰è£…Tornado"></a>å®‰è£…Tornado</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">pip install tornado</span><br></pre></td></tr></table></figure>

<h4 id="flask-app-pyç›®å½•ä¸‹ç¼–å†™Tornadoçš„-server-pyæ–‡ä»¶"><a href="#flask-app-pyç›®å½•ä¸‹ç¼–å†™Tornadoçš„-server-pyæ–‡ä»¶" class="headerlink" title="flask_app.pyç›®å½•ä¸‹ç¼–å†™Tornadoçš„ server.pyæ–‡ä»¶"></a>flask_app.pyç›®å½•ä¸‹ç¼–å†™Tornadoçš„ server.pyæ–‡ä»¶</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> tornado.httpserver <span class="keyword">import</span> HTTPServer</span><br><span class="line"><span class="keyword">from</span> tornado.wsgi <span class="keyword">import</span> WSGIContainer</span><br><span class="line"><span class="keyword">from</span> flask_app <span class="keyword">import</span> app</span><br><span class="line"><span class="keyword">from</span> tornado.ioloop <span class="keyword">import</span> IOLoop</span><br><span class="line"></span><br><span class="line">s = HTTPServer(WSGIContainer(app))</span><br><span class="line">s.listen(<span class="number">8080</span>) <span class="comment"># ç›‘å¬ 8080 ç«¯å£</span></span><br><span class="line">IOLoop.current().start()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h4><p>å½“å‰ç›®å½•ä¸‹æ‰§è¡Œ <code>python server.py</code> æµè§ˆå™¨ä¸­è®¿é—® <a href="http://ip:8080/">http://ip:8080</a> å³å¯</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">python server.py</span><br></pre></td></tr></table></figure>

<h4 id="é…ç½®nginxåå‘ä»£ç†"><a href="#é…ç½®nginxåå‘ä»£ç†" class="headerlink" title="é…ç½®nginxåå‘ä»£ç†"></a>é…ç½®nginxåå‘ä»£ç†</h4><p>é…ç½®nignxåå‘ä»£ç†ï¼Œè¿™æ ·åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®<a href="http://www.test.com/">www.test.com</a> å³å¯</p>
<p>windowsä¸‹nginxçš„å®‰è£…å’Œä½¿ç”¨è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http &#123;   </span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  www.test.com;</span><br><span class="line">        charset     utf-8;         </span><br><span class="line"></span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            root   html;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">            proxy_pass  http:&#x2F;&#x2F;ip:8080;</span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>python</tag>
        <tag>flask</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPä½¿ç”¨curlå®ç°æ¯«ç§’çº§ç­‰å¾…çš„ä¼ªå¼‚æ­¥è¯·æ±‚</title>
    <url>//articles/2020/07/16/1594914341041.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20181116.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><p>åœ¨å¼€å‘ä¸­ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šéœ€è¦åšä¸€ä¸ªå¤„ç†ï¼Œè€Œè¿™ä¸ªå¤„ç†éœ€è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´ï¼Œå¹¶ä¸”è¿™ä¸ªå¤„ç†çš„ç»“æœå¹¶ä¸æ˜¯éœ€è¦åŠæ—¶çš„å¾—åˆ°ç»“æœã€‚é‚£ä¹ˆæˆ‘ä»¬å°±å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨å¼‚æ­¥å¤„ç†ï¼Œæ¥å¤§å¤§ç¼©çŸ­æ•´ä¸ªæµç¨‹æ‰€éœ€è¦çš„æ—¶é—´ã€‚è€ŒPHPæ²¡æœ‰å¾ˆå¥½çš„å¼‚æ­¥æ”¯æŒï¼Œé‚£ä¹ˆå°±ä¼šæƒ³åˆ°ä½¿ç”¨CURLæ¥è¯·æ±‚å¹¶ä¸»åŠ¨æ–­å¼€é“¾æ¥ï¼Œä¸å»ç­‰å¾…è¯·æ±‚ç»“æœçš„è¿”å›æ¥å®ç°ä¼ªå¼‚æ­¥ã€‚</p>
<h2 id="åœºæ™¯å‡çº§"><a href="#åœºæ™¯å‡çº§" class="headerlink" title="åœºæ™¯å‡çº§"></a>åœºæ™¯å‡çº§</h2><p>è¿™æ ·å¤„ç†ä¹Ÿä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸å¾—ä¸æ¥å—è¦èŠ±è´¹ä¸€å®šçš„æ—¶é—´åœ¨è¯·æ±‚ä¸Šã€‚è¿™ä¸ªæ—¶é—´æ˜¯æ— æ³•çœå»çš„ï¼Œé‚£ä¹ˆå°±åªèƒ½æ˜¯è¿™ä¸ªæ—¶é—´è¶ŠçŸ­è¶Šå¥½ï¼ˆå…¶å®ä¸æ˜¯è¶ŠçŸ­è¶Šå¥½ï¼Œå› ä¸ºå¦‚æœæ—¶é—´å¤ªçŸ­é“¾æ¥è¿˜æ²¡æœ‰è¯·æ±‚åˆ°å°±ä¸»åŠ¨æ–­å¼€äº†ï¼‰ã€‚è€Œä¹‹å‰ç‰ˆæœ¬ä¸­ <code>CUROPT_TIMEOUT</code>æœ€å°è®¾ç½®ä¸º1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯è‡³å°‘å¿…é¡»ç­‰å¾…1ç§’é’Ÿã€‚è¿™æ—¶å€™æˆ‘ä»¬è¿«åˆ‡éœ€è¦ä½¿ç”¨æ¯«ç§’çº§çš„ç­‰å¾…ï¼Œç„¶åæ–­å¼€ã€‚ä¸ºæ•´ä¸ªæµç¨‹èŠ‚çœæ›´å¤šçš„æ—¶é—´ï¼</p>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * PHPå‘é€å¼‚æ­¥è¯·æ±‚ æ¯«ç§’çº§</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> Barry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2017-10-24</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $url è¯·æ±‚åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $param è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $httpMethod è¯·æ±‚æ–¹æ³•GETæˆ–è€…POST</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $header</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeAsyncRequest</span>(<span class="params">$url, $param, $httpMethod = <span class="string">&#x27;GET&#x27;</span>, $header=[]</span>) </span>&#123;</span><br><span class="line">        $oCurl = curl_init();</span><br><span class="line">        <span class="keyword">if</span> (stripos($url, <span class="string">&quot;https://&quot;</span>) !== <span class="literal">FALSE</span>) &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_SSL_VERIFYPEER, <span class="literal">FALSE</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_SSL_VERIFYHOST, <span class="literal">FALSE</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($httpMethod == <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_URL, $url . <span class="string">&quot;?&quot;</span> . http_build_query($param));</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_URL, $url);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_POST, <span class="number">1</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_POSTFIELDS, http_build_query($param));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">empty</span>($header)) &#123;</span><br><span class="line">            $headers = [];</span><br><span class="line">            <span class="keyword">foreach</span> ($header <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">                $headers[] = $k.<span class="string">&quot;:&quot;</span>.$v;</span><br><span class="line">            &#125;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_HTTPHEADER, $headers);</span><br><span class="line">        &#125;</span><br><span class="line">        curl_setopt($oCurl, CURLOPT_NOSIGNAL, <span class="number">1</span>);<span class="comment">//å¿…é¡»åŠ ï¼Œå¦åˆ™åœ¨CentOSç¯å¢ƒä¸‹é¢è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™</span></span><br><span class="line">        curl_setopt($oCurl, CURLOPT_TIMEOUT_MS, <span class="number">30</span>);<span class="comment">//è®¾ç½®cURLå…è®¸æ‰§è¡Œçš„æœ€é•¿æ¯«ç§’æ•°</span></span><br><span class="line"></span><br><span class="line">        $sContent = curl_exec($oCurl);</span><br><span class="line"><span class="comment">//        print_r($sContent);exit;</span></span><br><span class="line"><span class="comment">//        $aStatus = curl_getinfo($oCurl);</span></span><br><span class="line">        curl_close($oCurl);</span><br><span class="line">        <span class="keyword">return</span> json_decode($sContent, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="CentOSä¸‹è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™Bug"><a href="#CentOSä¸‹è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™Bug" class="headerlink" title="CentOSä¸‹è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™Bug"></a>CentOSä¸‹è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™Bug</h2><p>ä¸ºä»€ä¹ˆåœ¨CentOSæœåŠ¡å™¨ä¸‹è¦å¢åŠ è¿™ä¸€è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl_setopt($oCurl, CURLOPT_NOSIGNAL, 1);&#x2F;&#x2F;å¿…é¡»åŠ ï¼Œå¦åˆ™åœ¨CentOSç¯å¢ƒä¸‹é¢è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™</span><br></pre></td></tr></table></figure>


<p>ä¸»è¦åŸå› ï¼š</p>
<blockquote>
<p>åœ¨Linuxç³»ç»Ÿä¸Š, å¦‚æœä½¿ç”¨äº†ç³»ç»Ÿæ ‡å‡†çš„DNSè§£æ, åˆ™ä¼šä½¿ç”¨SIGALARMæ¥æä¾›æ§åˆ¶åŸŸåè§£æè¶…æ—¶çš„åŠŸèƒ½ï¼Œä½†æ˜¯SIGALARMä¸æ”¯æŒå°äº1sçš„è¶…æ—¶ã€‚</p>
</blockquote>
<p>åˆ†æä¸è§£å†³ï¼šå¯ä»¥é˜…è¯»å¤§ç¥<a href="https://www.laruence.com/">é£é›ªä¹‹éš…</a>ä¸“é—¨è¿™å¯¹è¯¥bugåˆ†æä»¥åŠè§£å†³å†™çš„ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://www.laruence.com/2014/01/21/2939.html">Curlçš„æ¯«ç§’è¶…æ—¶çš„ä¸€ä¸ªâ€Bugâ€</a></p>
<h2 id="PHPæ›´å¤šå¼‚æ­¥å®ç°æ–¹æ³•"><a href="#PHPæ›´å¤šå¼‚æ­¥å®ç°æ–¹æ³•" class="headerlink" title="PHPæ›´å¤šå¼‚æ­¥å®ç°æ–¹æ³•"></a>PHPæ›´å¤šå¼‚æ­¥å®ç°æ–¹æ³•</h2><p>å¦‚æœæƒ³äº†è§£æ›´å¤šçš„PHPå®ç°å¼‚æ­¥è°ƒç”¨æ–¹æ³•å¯ä»¥å»é˜…è¯»<a href="https://www.laruence.com/">é£é›ªä¹‹éš…</a>ä¹Ÿå°±æ˜¯å¤§åé¼é¼çš„<strong>é¸Ÿå“¥</strong>å†™çš„ä¸€ç¯‡åšå®¢ï¼š<a href="https://www.laruence.com/2008/04/14/318.html">PHPå®ç°å¼‚æ­¥è°ƒç”¨æ–¹æ³•ç ”ç©¶</a></p>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>CURL</tag>
        <tag>æ¯«ç§’çº§ä¼ªå¼‚æ­¥</tag>
      </tags>
  </entry>
  <entry>
    <title>æˆ‘åœ¨ GitHub ä¸Šçš„å¼€æºé¡¹ç›®</title>
    <url>//my-github-repos</url>
    <content><![CDATA[<!-- è¯¥é¡µé¢ä¼šè¢«å®šæ—¶ä»»åŠ¡è‡ªåŠ¨è¦†ç›–ï¼Œæ‰€ä»¥è¯·å‹¿æ‰‹å·¥æ›´æ–° -->
<!-- å¦‚æœä½ æœ‰æ›´æ¼‚äº®çš„æ’ç‰ˆæ–¹å¼ï¼Œè¯·å‘ issue å‘Šè¯‰æˆ‘ä»¬ -->

<h3 id="1-pic-repo-ğŸ¤©1-nbsp-nbsp-â­ï¸1-nbsp-nbsp-ğŸ––0-nbsp-nbsp-ğŸ http-myblog-zhengpc-com-articles-2020-03-11-1583919217986-html"><a href="#1-pic-repo-ğŸ¤©1-nbsp-nbsp-â­ï¸1-nbsp-nbsp-ğŸ––0-nbsp-nbsp-ğŸ http-myblog-zhengpc-com-articles-2020-03-11-1583919217986-html" class="headerlink" title="1. pic-repo  ğŸ¤©1&nbsp;&nbsp;â­ï¸1&nbsp;&nbsp;ğŸ––0&nbsp;&nbsp;ğŸ http://myblog.zhengpc.com/articles/2020/03/11/1583919217986.html"></a>1. <a href="https://github.com/barryzpc/pic-repo">pic-repo</a> <kbd title="ä¸»è¦ç¼–ç¨‹è¯­è¨€"></kbd> <span style="font-size: 12px;"><a href="https://github.com/barryzpc/pic-repo/watchers" title="å…³æ³¨æ•°">ğŸ¤©<code>1</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/pic-repo/stargazers" title="æ”¶è—æ•°">â­ï¸<code>1</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/pic-repo/network/members" title="åˆ†å‰æ•°">ğŸ––<code>0</code></a>&nbsp;&nbsp;<a href="http://myblog.zhengpc.com/articles/2020/03/11/1583919217986.html" title="é¡¹ç›®ä¸»é¡µ">ğŸ <code>http://myblog.zhengpc.com/articles/2020/03/11/1583919217986.html</code></a></span></h3><p>ä¸ªäººå›¾åºŠï¼Œç”¨æ¥å­˜æ”¾ä¸ªäººé¡¹ç›®çš„é™æ€æ–‡ä»¶åº“ï¼Œä¾¿äºç›´é“¾è®¿é—®</p>
<hr>
<h3 id="2-nav-github-io-HTML-ğŸ¤©2-nbsp-nbsp-â­ï¸1-nbsp-nbsp-ğŸ––1-nbsp-nbsp-ğŸ https-nav-zhengpc-com"><a href="#2-nav-github-io-HTML-ğŸ¤©2-nbsp-nbsp-â­ï¸1-nbsp-nbsp-ğŸ––1-nbsp-nbsp-ğŸ https-nav-zhengpc-com" class="headerlink" title="2. nav.github.io HTML ğŸ¤©2&nbsp;&nbsp;â­ï¸1&nbsp;&nbsp;ğŸ––1&nbsp;&nbsp;ğŸ https://nav.zhengpc.com/"></a>2. <a href="https://github.com/barryzpc/nav.github.io">nav.github.io</a> <kbd title="ä¸»è¦ç¼–ç¨‹è¯­è¨€">HTML</kbd> <span style="font-size: 12px;"><a href="https://github.com/barryzpc/nav.github.io/watchers" title="å…³æ³¨æ•°">ğŸ¤©<code>2</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/nav.github.io/stargazers" title="æ”¶è—æ•°">â­ï¸<code>1</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/nav.github.io/network/members" title="åˆ†å‰æ•°">ğŸ––<code>1</code></a>&nbsp;&nbsp;<a href="https://nav.zhengpc.com/" title="é¡¹ç›®ä¸»é¡µ">ğŸ <code>https://nav.zhengpc.com/</code></a></span></h3><p>å¸¸ç”¨ç½‘ç«™åœ°å€å¯¼èˆªpage</p>
<hr>
<h3 id="3-solo-blog-ğŸ¤©1-nbsp-nbsp-â­ï¸0-nbsp-nbsp-ğŸ––0-nbsp-nbsp-ğŸ https-myblog-zhengpc-com"><a href="#3-solo-blog-ğŸ¤©1-nbsp-nbsp-â­ï¸0-nbsp-nbsp-ğŸ––0-nbsp-nbsp-ğŸ https-myblog-zhengpc-com" class="headerlink" title="3. solo-blog  ğŸ¤©1&nbsp;&nbsp;â­ï¸0&nbsp;&nbsp;ğŸ––0&nbsp;&nbsp;ğŸ https://myblog.zhengpc.com"></a>3. <a href="https://github.com/barryzpc/solo-blog">solo-blog</a> <kbd title="ä¸»è¦ç¼–ç¨‹è¯­è¨€"></kbd> <span style="font-size: 12px;"><a href="https://github.com/barryzpc/solo-blog/watchers" title="å…³æ³¨æ•°">ğŸ¤©<code>1</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/solo-blog/stargazers" title="æ”¶è—æ•°">â­ï¸<code>0</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/solo-blog/network/members" title="åˆ†å‰æ•°">ğŸ––<code>0</code></a>&nbsp;&nbsp;<a href="https://myblog.zhengpc.com/" title="é¡¹ç›®ä¸»é¡µ">ğŸ <code>https://myblog.zhengpc.com</code></a></span></h3><p>âœï¸ æµ©å¤©è¯´ - è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢</p>
<hr>
<h3 id="4-my-solo4-3-1-FreeMarker-ğŸ¤©1-nbsp-nbsp-â­ï¸0-nbsp-nbsp-ğŸ––0-nbsp-nbsp-ğŸ https-myblog-zhengpc-com"><a href="#4-my-solo4-3-1-FreeMarker-ğŸ¤©1-nbsp-nbsp-â­ï¸0-nbsp-nbsp-ğŸ––0-nbsp-nbsp-ğŸ https-myblog-zhengpc-com" class="headerlink" title="4. my-solo4.3.1 FreeMarker ğŸ¤©1&nbsp;&nbsp;â­ï¸0&nbsp;&nbsp;ğŸ––0&nbsp;&nbsp;ğŸ https://myblog.zhengpc.com/"></a>4. <a href="https://github.com/barryzpc/my-solo4.3.1">my-solo4.3.1</a> <kbd title="ä¸»è¦ç¼–ç¨‹è¯­è¨€">FreeMarker</kbd> <span style="font-size: 12px;"><a href="https://github.com/barryzpc/my-solo4.3.1/watchers" title="å…³æ³¨æ•°">ğŸ¤©<code>1</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/my-solo4.3.1/stargazers" title="æ”¶è—æ•°">â­ï¸<code>0</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/my-solo4.3.1/network/members" title="åˆ†å‰æ•°">ğŸ––<code>0</code></a>&nbsp;&nbsp;<a href="https://myblog.zhengpc.com/" title="é¡¹ç›®ä¸»é¡µ">ğŸ <code>https://myblog.zhengpc.com/</code></a></span></h3><p>æˆ‘çš„åšå®¢4.3.1ç‰ˆ</p>
<hr>
<h3 id="5-hyperf-learn-PHP-ğŸ¤©1-nbsp-nbsp-â­ï¸0-nbsp-nbsp-ğŸ––0"><a href="#5-hyperf-learn-PHP-ğŸ¤©1-nbsp-nbsp-â­ï¸0-nbsp-nbsp-ğŸ––0" class="headerlink" title="5. hyperf-learn PHP ğŸ¤©1&nbsp;&nbsp;â­ï¸0&nbsp;&nbsp;ğŸ––0"></a>5. <a href="https://github.com/barryzpc/hyperf-learn">hyperf-learn</a> <kbd title="ä¸»è¦ç¼–ç¨‹è¯­è¨€">PHP</kbd> <span style="font-size: 12px;"><a href="https://github.com/barryzpc/hyperf-learn/watchers" title="å…³æ³¨æ•°">ğŸ¤©<code>1</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/hyperf-learn/stargazers" title="æ”¶è—æ•°">â­ï¸<code>0</code></a>&nbsp;&nbsp;<a href="https://github.com/barryzpc/hyperf-learn/network/members" title="åˆ†å‰æ•°">ğŸ––<code>0</code></a></span></h3><p>hyperfæ¡†æ¶çš„å­¦ä¹ </p>
]]></content>
      <tags>
        <tag>å¼€æº</tag>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘ä¸Šæ”¶é›†çš„PHPçŸ¥è¯†ç‚¹å’Œé¢è¯•æ±‡æ€»</title>
    <url>//articles/2020/04/22/1587541701093.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180919.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="ç®€ä¹¦"><a href="#ç®€ä¹¦" class="headerlink" title="ç®€ä¹¦"></a>ç®€ä¹¦</h2><ol>
<li><a href="https://www.jianshu.com/p/8ace7a078923">PHPé¢è¯•é¢˜æ€»ç»“</a></li>
<li><a href="https://www.jianshu.com/p/499317bd2ee7">PHPé¢è¯•é¢˜æ±‡æ€»</a></li>
<li><a href="https://www.jianshu.com/p/a957b18ba40d">MySQLå­˜å‚¨å¼•æ“ï¼ï¼MyISAMä¸InnoDBåŒºåˆ«</a></li>
<li><a href="https://www.jianshu.com/p/80e25cb1d81a">å…³äºHTTPåè®®ï¼Œä¸€ç¯‡å°±å¤Ÿäº†</a></li>
</ol>
<h2 id="æ˜é‡‘"><a href="#æ˜é‡‘" class="headerlink" title="æ˜é‡‘"></a>æ˜é‡‘</h2><ol>
<li><a href="https://juejin.im/post/5b97618bf265da0aff17204f#heading-14">PHPé¢è¯•æ€»ç»“</a></li>
</ol>
<h2 id="åšå®¢å›­"><a href="#åšå®¢å›­" class="headerlink" title="åšå®¢å›­"></a>åšå®¢å›­</h2><ol>
<li><a href="https://www.cnblogs.com/jing1208/p/6289840.html">PHPçš„å‡ ç§æ’åºç®—æ³•çš„æ¯”è¾ƒ</a></li>
<li><a href="https://www.cnblogs.com/pangzizhe/tag/Redis/">Rediså®æˆ˜</a></li>
<li><a href="https://www.cnblogs.com/wintersoft/p/10787474.html">Mysqlçš„selectåŠ é”åˆ†æ</a></li>
</ol>
<h2 id="é…·-å£³"><a href="#é…·-å£³" class="headerlink" title="é…· å£³"></a>é…· å£³</h2><ol>
<li><a href="https://coolshell.cn/articles/1846.html">MYSQLæ€§èƒ½ä¼˜åŒ–çš„æœ€ä½³20+æ¡ç»éªŒ</a></li>
</ol>
<h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h2><ol>
<li><a href="https://github.com/colinlet/PHP-Interview-QA/">PHPé¢è¯•é—®ç­”</a></li>
</ol>
<h2 id="LearnKu"><a href="#LearnKu" class="headerlink" title="LearnKu"></a>LearnKu</h2><ol>
<li><a href="https://learnku.com/docs/php-internals/php7">PHP å†…æ ¸ä¸åŸç”Ÿæ‰©å±•å¼€å‘(è¯‘)</a></li>
<li><a href="https://learnku.com/docs/php-design-patterns/2018"> PHP è®¾è®¡æ¨¡å¼å…¨é›†(è¯‘)</a></li>
<li><a href="https://learnku.com/docs/psr">PHP PSR æ ‡å‡†è§„èŒƒ(è¯‘)</a></li>
</ol>
<h2 id="çŸ¥ä¹"><a href="#çŸ¥ä¹" class="headerlink" title="çŸ¥ä¹"></a>çŸ¥ä¹</h2><ol>
<li><a href="https://zhuanlan.zhihu.com/p/202873171">PHPé¢è¯•é¢˜æ±‡æ€»</a></li>
</ol>
]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>PHP</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPå®ç°è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¾“å‡ºä¸€ä¸ªnÃ—nè›‡å½¢çŸ©é˜µ</title>
    <url>//articles/2020/04/20/1587390691737.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180309.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h6 id="å‰æ®µæ—¶é—´ç¾¤é‡Œå‘äº†ä¸€ä¸ªæœ‰æ„æ€é¢˜ï¼Œè‡ªå·±è¯•ç€ç®€å•ç²—æš´çš„å®ç°ä¸€ä¸‹ã€‚"><a href="#å‰æ®µæ—¶é—´ç¾¤é‡Œå‘äº†ä¸€ä¸ªæœ‰æ„æ€é¢˜ï¼Œè‡ªå·±è¯•ç€ç®€å•ç²—æš´çš„å®ç°ä¸€ä¸‹ã€‚" class="headerlink" title="å‰æ®µæ—¶é—´ç¾¤é‡Œå‘äº†ä¸€ä¸ªæœ‰æ„æ€é¢˜ï¼Œè‡ªå·±è¯•ç€ç®€å•ç²—æš´çš„å®ç°ä¸€ä¸‹ã€‚"></a>å‰æ®µæ—¶é—´ç¾¤é‡Œå‘äº†ä¸€ä¸ªæœ‰æ„æ€é¢˜ï¼Œè‡ªå·±è¯•ç€ç®€å•ç²—æš´çš„å®ç°ä¸€ä¸‹ã€‚</h6><h2 id="é¢˜ç›®ï¼š"><a href="#é¢˜ç›®ï¼š" class="headerlink" title="é¢˜ç›®ï¼š"></a>é¢˜ç›®ï¼š</h2><h4 id="å®ç°è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¾“å‡ºä¸€ä¸ªnÃ—nè›‡å½¢é˜µã€‚ä¾‹å¦‚ï¼š"><a href="#å®ç°è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¾“å‡ºä¸€ä¸ªnÃ—nè›‡å½¢é˜µã€‚ä¾‹å¦‚ï¼š" class="headerlink" title="å®ç°è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¾“å‡ºä¸€ä¸ªnÃ—nè›‡å½¢é˜µã€‚ä¾‹å¦‚ï¼š"></a>å®ç°è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¾“å‡ºä¸€ä¸ªnÃ—nè›‡å½¢é˜µã€‚ä¾‹å¦‚ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;è¾“å…¥ 3,è¾“å‡ºï¼š</span><br><span class="line"> 1   2   3</span><br><span class="line"> 8   9   4</span><br><span class="line"> 7   6   5</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;è¾“å…¥ 4ï¼Œè¾“å‡ºï¼š</span><br><span class="line"> 1    2   3   4</span><br><span class="line"> 12   13  14  5</span><br><span class="line"> 11   16  15  6</span><br><span class="line"> 10   9   8   7</span><br></pre></td></tr></table></figure>

<h2 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h2><h4 id="1ã€è§‚å¯Ÿå¯ä»¥å‘ç°ï¼ŒçŸ©é˜µçš„å€¼çš„è§„å¾‹æ˜¯ç”±å¤–å‘å†…ç”»åœˆä¾æ¬¡é€’å¢çš„å·å…¥ï¼ˆæ’åˆ—ï¼‰ï¼Œè¿™æ˜¯è¿™ä¸ªé¢˜çš„çªç ´å£ã€‚å¯ä»¥æŒ‰ç…§è¿™ä¸ªä¾æ¬¡é€’å¢çš„å€¼çš„ä½ç½®æ¥ä¾æ¬¡èµ‹å€¼"><a href="#1ã€è§‚å¯Ÿå¯ä»¥å‘ç°ï¼ŒçŸ©é˜µçš„å€¼çš„è§„å¾‹æ˜¯ç”±å¤–å‘å†…ç”»åœˆä¾æ¬¡é€’å¢çš„å·å…¥ï¼ˆæ’åˆ—ï¼‰ï¼Œè¿™æ˜¯è¿™ä¸ªé¢˜çš„çªç ´å£ã€‚å¯ä»¥æŒ‰ç…§è¿™ä¸ªä¾æ¬¡é€’å¢çš„å€¼çš„ä½ç½®æ¥ä¾æ¬¡èµ‹å€¼" class="headerlink" title="1ã€è§‚å¯Ÿå¯ä»¥å‘ç°ï¼ŒçŸ©é˜µçš„å€¼çš„è§„å¾‹æ˜¯ç”±å¤–å‘å†…ç”»åœˆä¾æ¬¡é€’å¢çš„å·å…¥ï¼ˆæ’åˆ—ï¼‰ï¼Œè¿™æ˜¯è¿™ä¸ªé¢˜çš„çªç ´å£ã€‚å¯ä»¥æŒ‰ç…§è¿™ä¸ªä¾æ¬¡é€’å¢çš„å€¼çš„ä½ç½®æ¥ä¾æ¬¡èµ‹å€¼"></a>1ã€è§‚å¯Ÿå¯ä»¥å‘ç°ï¼ŒçŸ©é˜µçš„å€¼çš„è§„å¾‹æ˜¯ç”±å¤–å‘å†…ç”»åœˆä¾æ¬¡é€’å¢çš„å·å…¥ï¼ˆæ’åˆ—ï¼‰ï¼Œè¿™æ˜¯è¿™ä¸ªé¢˜çš„çªç ´å£ã€‚å¯ä»¥æŒ‰ç…§è¿™ä¸ªä¾æ¬¡é€’å¢çš„å€¼çš„ä½ç½®æ¥ä¾æ¬¡èµ‹å€¼</h4><h4 id="2ã€è€Œä¸”è½¬çš„åœˆæ•°ä¸º-n-é™¤ä»¥2-ä¹Ÿå°±æ˜¯è¡Œæ•°ï¼Œæˆ–è€…æ˜¯åˆ—æ•°-ï¼Œå¦‚æœ-n-ä¸ºå¥‡æ•°ï¼Œåˆ™å‘ä¸Šå–æ•´ï¼Œå³-1"><a href="#2ã€è€Œä¸”è½¬çš„åœˆæ•°ä¸º-n-é™¤ä»¥2-ä¹Ÿå°±æ˜¯è¡Œæ•°ï¼Œæˆ–è€…æ˜¯åˆ—æ•°-ï¼Œå¦‚æœ-n-ä¸ºå¥‡æ•°ï¼Œåˆ™å‘ä¸Šå–æ•´ï¼Œå³-1" class="headerlink" title="2ã€è€Œä¸”è½¬çš„åœˆæ•°ä¸º n é™¤ä»¥2(ä¹Ÿå°±æ˜¯è¡Œæ•°ï¼Œæˆ–è€…æ˜¯åˆ—æ•°)ï¼Œå¦‚æœ n ä¸ºå¥‡æ•°ï¼Œåˆ™å‘ä¸Šå–æ•´ï¼Œå³+1"></a>2ã€è€Œä¸”è½¬çš„åœˆæ•°ä¸º n é™¤ä»¥2(ä¹Ÿå°±æ˜¯è¡Œæ•°ï¼Œæˆ–è€…æ˜¯åˆ—æ•°)ï¼Œå¦‚æœ n ä¸ºå¥‡æ•°ï¼Œåˆ™å‘ä¸Šå–æ•´ï¼Œå³+1</h4><h2 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h2><h4 id="åˆ›å»ºphpè„šæœ¬æ–‡ä»¶snake-matrix-php"><a href="#åˆ›å»ºphpè„šæœ¬æ–‡ä»¶snake-matrix-php" class="headerlink" title="åˆ›å»ºphpè„šæœ¬æ–‡ä»¶snake_matrix.php"></a>åˆ›å»ºphpè„šæœ¬æ–‡ä»¶snake_matrix.php</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¾“å…¥ä¸€ä¸ªæ•´æ•°nï¼Œè¦æ±‚è¾“å‡ºä¸€ä¸ªnÃ—nè›‡å½¢é˜µï¼ˆn&lt;10ï¼‰ï¼Œæ¯”å¦‚è¾“å…¥æ•´æ•°4ï¼Œåˆ™è¾“å‡ºå¦‚ä¸‹è›‡å½¢é˜µï¼š</span></span><br><span class="line"><span class="comment"> * 1    2   3   4</span></span><br><span class="line"><span class="comment"> * 12   13  14  5</span></span><br><span class="line"><span class="comment"> * 11   16  15  6</span></span><br><span class="line"><span class="comment"> * 10   9   8   7</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¶åˆ°çš„å‚æ•°</span></span><br><span class="line">$param = getopt(<span class="string">&quot;n:&quot;</span>);</span><br><span class="line">$input_num = $param[<span class="string">&#x27;n&#x27;</span>];</span><br><span class="line">$value = <span class="number">1</span>; <span class="comment">//çŸ©é˜µçš„ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line">$matrix_arr = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¯Ÿå¯ä»¥å‘ç°ï¼ŒçŸ©é˜µçš„å€¼çš„è§„å¾‹æ˜¯ä¾æ¬¡é€’å¢çš„ï¼›è¿™ä¹Ÿæ˜¯è¿™ä¸ªç®—æ³•çš„çªç ´å£ã€‚</span></span><br><span class="line"><span class="comment"> * è€Œä¸”è½¬çš„åœˆæ•°ä¸º n é™¤ä»¥2(ä¹Ÿå°±æ˜¯è¡Œæ•°ï¼Œæˆ–è€…æ˜¯åˆ—æ•°)ï¼Œå¦‚æœ n ä¸ºå¥‡æ•°ï¼Œåˆ™å‘ä¸Šå–æ•´ï¼Œå³+1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åœˆæ•°</span></span><br><span class="line">$circle_num = ceil($input_num / <span class="number">2</span>);</span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; $circle_num; $i++) &#123;<span class="comment">//ä¸€åœˆä¸€åœˆçš„æ¥</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨äºæ¯ä¸€åœˆçš„ç¬¬ä¸€è¡Œèµ‹å€¼</span></span><br><span class="line">    <span class="keyword">for</span> ($j = $i; $j &lt; $input_num - $i; $j++) &#123;</span><br><span class="line">        $matrix_arr[$i][$j] = $value++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨äºæ¯åœˆçš„æœ€åä¸€åˆ—èµ‹å€¼</span></span><br><span class="line">    <span class="keyword">for</span> ($j = $i + <span class="number">1</span>; $j &lt; $input_num - $i - <span class="number">1</span>; $j++) &#123;</span><br><span class="line">        $matrix_arr[$j][$input_num - $i - <span class="number">1</span>] = $value++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨äºæ¯åœˆçš„æœ€åä¸€è¡Œèµ‹å€¼</span></span><br><span class="line">    <span class="keyword">for</span> ($j = $input_num - $i - <span class="number">1</span>; $j &gt; $i; $j--) &#123;</span><br><span class="line">        $matrix_arr[$input_num - $i - <span class="number">1</span>][$j] = $value++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”¨äºæ¯åœˆçš„ç¬¬ä¸€åˆ—èµ‹å€¼</span></span><br><span class="line">    <span class="keyword">for</span> ($j = $input_num - $i - <span class="number">1</span>; $j &gt; $i; $j--) &#123;</span><br><span class="line">        $matrix_arr[$j][$i] = $value++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŒ‰ç…§ç´¢å¼•ä¾æ¬¡æ‰“å°å‡ºæ¥</span></span><br><span class="line"><span class="keyword">foreach</span> ($matrix_arr <span class="keyword">as</span> $key =&gt; $row_val) &#123;</span><br><span class="line">    ksort($row_val);</span><br><span class="line">    $str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">foreach</span> ($row_val <span class="keyword">as</span> $value) &#123;</span><br><span class="line">        <span class="keyword">echo</span> $value;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="è¿è¡Œphpè„šæœ¬"><a href="#è¿è¡Œphpè„šæœ¬" class="headerlink" title="è¿è¡Œphpè„šæœ¬"></a>è¿è¡Œphpè„šæœ¬</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">php snake_matrix.php -n 4</span><br></pre></td></tr></table></figure>

<h4 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1    2   3   4</span><br><span class="line">12   13  14  5</span><br><span class="line">11   16  15  6</span><br><span class="line">10   9   8   7</span><br></pre></td></tr></table></figure>

<p>ps: å¦‚æœå¤§å®¶è¿˜æœ‰åˆ«çš„å®ç°æ–¹å¼ï¼Œå¯ä»¥åœ¨è¯„è®ºåŒºè´´å‡ºæ¥ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ ã€‚è¯­è¨€ä¸é™</p>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>è½¬è½½ï¼š ä½ çŸ¥é“ç¼“å­˜çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ä¹ˆï¼Ÿ</title>
    <url>//articles/2020/04/16/1587017727206.html</url>
    <content><![CDATA[<p>è¯´æ˜ï¼šæœ¬æ–‡ä¸ºè½¬è½½å†…å®¹</p>
<h1 id="ä½ çŸ¥é“ç¼“å­˜çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ä¹ˆï¼Ÿ"><a href="#ä½ çŸ¥é“ç¼“å­˜çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ä¹ˆï¼Ÿ" class="headerlink" title="ä½ çŸ¥é“ç¼“å­˜çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ä¹ˆï¼Ÿ"></a>ä½ çŸ¥é“ç¼“å­˜çš„æ­£ç¡®æ‰“å¼€æ–¹å¼ä¹ˆï¼Ÿ</h1><h2 id="ç¬¬ä¸€ç¯‡"><a href="#ç¬¬ä¸€ç¯‡" class="headerlink" title="ç¬¬ä¸€ç¯‡"></a>ç¬¬ä¸€ç¯‡</h2><p><a href="https://mp.weixin.qq.com/s/evyse2RD_v25MI52umPReg">åŸæ–‡åœ°å€ï¼šhttps://mp.weixin.qq.com/s/evyse2RD_v25MI52umPReg</a></p>
<h2 id="ç¬¬äºŒç¯‡"><a href="#ç¬¬äºŒç¯‡" class="headerlink" title="ç¬¬äºŒç¯‡"></a>ç¬¬äºŒç¯‡</h2><p><a href="https://mp.weixin.qq.com/s/JQbOqv55zXA0TTHPohb9jA">åŸæ–‡åœ°å€ï¼šhttps://mp.weixin.qq.com/s/JQbOqv55zXA0TTHPohb9jA</a></p>
<p>æœ¬æ–‡ç”± æ¡¶å“¥ æˆæƒ é¥­ç±³ç²’ å‘å¸ƒï¼Œè½¬è½½è¯·æ³¨æ˜æœ¬æ¥æºä¿¡æ¯</p>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>è½¬è½½</tag>
        <tag>ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title>è½¬è½½ï¼šcentos7 ç¼–è¯‘å®‰è£… php7.4</title>
    <url>//articles/2020/04/14/1586834851714.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20171111.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<p>åŸæ–‡åœ°å€ï¼š<a href="https://www.cnblogs.com/liubaoqing/p/12176017.html">https://www.cnblogs.com/liubaoqing/p/12176017.html</a></p>
<h4 id="1-ä¸‹è½½å®‰è£…ç¼–è¯‘å·¥å…·"><a href="#1-ä¸‹è½½å®‰è£…ç¼–è¯‘å·¥å…·" class="headerlink" title="1. ä¸‹è½½å®‰è£…ç¼–è¯‘å·¥å…·"></a>1. ä¸‹è½½å®‰è£…ç¼–è¯‘å·¥å…·</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum groupinstall &#39;Development Tools&#39;</span><br></pre></td></tr></table></figure>
<h4 id="2-å®‰è£…ä¾èµ–åŒ…"><a href="#2-å®‰è£…ä¾èµ–åŒ…" class="headerlink" title="2.å®‰è£…ä¾èµ–åŒ…"></a>2.å®‰è£…ä¾èµ–åŒ…</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install libxml2 libxml2-devel openssl openssl-devel bzip2 bzip2-devel libcurl libcurl-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gmp gmp-devel libmcrypt libmcrypt-devel readline readline-devel libxslt libxslt-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel ncurses curl gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp-devel expat-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmcrypt-devel libmemcached-devel</span><br></pre></td></tr></table></figure>

<h4 id="3-ä¸‹è½½å¹¶è§£å‹php7-4"><a href="#3-ä¸‹è½½å¹¶è§£å‹php7-4" class="headerlink" title="3.ä¸‹è½½å¹¶è§£å‹php7.4"></a>3.ä¸‹è½½å¹¶è§£å‹php7.4</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;src</span><br><span class="line">wget  https:&#x2F;&#x2F;www.php.net&#x2F;distributions&#x2F;php-7.4.4.tar.bz2</span><br><span class="line">tar jxvf php-7.4.4.tar.bz2</span><br><span class="line">cd php-7.4.4</span><br></pre></td></tr></table></figure>

<h4 id="4-ç¼–è¯‘å®‰è£…ï¼ˆ-configure-â€“help-æŸ¥çœ‹ç¼–è¯‘å‚æ•°ï¼‰"><a href="#4-ç¼–è¯‘å®‰è£…ï¼ˆ-configure-â€“help-æŸ¥çœ‹ç¼–è¯‘å‚æ•°ï¼‰" class="headerlink" title="4.ç¼–è¯‘å®‰è£…ï¼ˆ./configure â€“help æŸ¥çœ‹ç¼–è¯‘å‚æ•°ï¼‰"></a>4.ç¼–è¯‘å®‰è£…ï¼ˆ./configure â€“help æŸ¥çœ‹ç¼–è¯‘å‚æ•°ï¼‰</h4><h5 id="ç¼–è¯‘å‰ï¼Œæ–°å¢ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ï¼Œç”¨äºç¼–è¯‘ä½¿ç”¨"><a href="#ç¼–è¯‘å‰ï¼Œæ–°å¢ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ï¼Œç”¨äºç¼–è¯‘ä½¿ç”¨" class="headerlink" title="ç¼–è¯‘å‰ï¼Œæ–°å¢ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ï¼Œç”¨äºç¼–è¯‘ä½¿ç”¨"></a>ç¼–è¯‘å‰ï¼Œæ–°å¢ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ï¼Œç”¨äºç¼–è¯‘ä½¿ç”¨</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">groupadd www</span><br><span class="line">useradd -g www www</span><br></pre></td></tr></table></figure>

<h5 id="å¼€å§‹ç¼–è¯‘ï¼ˆæ ¹æ®è‡ªå·±éœ€è¦å¢å‡ï¼‰"><a href="#å¼€å§‹ç¼–è¯‘ï¼ˆæ ¹æ®è‡ªå·±éœ€è¦å¢å‡ï¼‰" class="headerlink" title="å¼€å§‹ç¼–è¯‘ï¼ˆæ ¹æ®è‡ªå·±éœ€è¦å¢å‡ï¼‰"></a>å¼€å§‹ç¼–è¯‘ï¼ˆæ ¹æ®è‡ªå·±éœ€è¦å¢å‡ï¼‰</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;configure   --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;php   --with-config-file-path&#x3D;&#x2F;etc   --with-fpm-user&#x3D;www   --with-fpm-group&#x3D;www    --with-curl   --with-freetype-dir   --enable-gd   --with-gettext    --with-iconv-dir   --with-kerberos   --with-libdir&#x3D;lib64   --with-libxml-dir   --with-mysqli   --with-openssl   --with-pcre-regex   --with-pdo-mysql   --with-pdo-sqlite   --with-pear   --with-png-dir   --with-jpeg-dir   --with-xmlrpc   --with-xsl   --with-zlib   --with-bz2   --with-mhash   --enable-fpm   --enable-bcmath   --enable-libxml   --enable-inline-optimization   --enable-mbregex   --enable-mbstring   --enable-opcache   --enable-pcntl   --enable-shmop   --enable-soap   --enable-sockets   --enable-sysvsem   --enable-sysvshm   --enable-xml    --enable-zip   --enable-fpm</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯åœ¨php7.4 ç¼–è¯‘å‚æ•° â€“with-gd  è¦æ”¹æˆäº† â€“enable-gd</li>
</ul>
<hr>
<h5 id="å½“æŠ¥é”™checking-for-libzipâ€¦-configure-error-system-libzip-must-be-upgraded-to-version-gt-0-11"><a href="#å½“æŠ¥é”™checking-for-libzipâ€¦-configure-error-system-libzip-must-be-upgraded-to-version-gt-0-11" class="headerlink" title="å½“æŠ¥é”™checking for libzipâ€¦ configure: error: system libzip must be upgraded to version &gt;= 0.11"></a>å½“æŠ¥é”™checking for libzipâ€¦ configure: error: system libzip must be upgraded to version &gt;= 0.11</h5><p>å…ˆåˆ é™¤æ—§ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum remove -y libzip</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½ç¼–è¯‘å®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;nih.at&#x2F;libzip&#x2F;libzip-1.2.0.tar.gz</span><br><span class="line">tar -zxvf libzip-1.2.0.tar.gz</span><br><span class="line">cd libzip-1.2.0 .&#x2F;configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="errorï¼š-Package-requirements-sqlite3-gt-3-7-4-were-not-met"><a href="#errorï¼š-Package-requirements-sqlite3-gt-3-7-4-were-not-met" class="headerlink" title="errorï¼š Package requirements (sqlite3 &gt; 3.7.4) were not met"></a>errorï¼š Package requirements (sqlite3 &gt; 3.7.4) were not met</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install libsqlite3x-devel -y</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="error-Package-requirements-oniguruma-were-not-met"><a href="#error-Package-requirements-oniguruma-were-not-met" class="headerlink" title="error: Package requirements (oniguruma) were not met"></a>error: Package requirements (oniguruma) were not met</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install oniguruma-devel -y</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="å½“yum-install-æç¤º-â€œæ²¡å¯ç”¨è½¯ä»¶åŒ…â€"><a href="#å½“yum-install-æç¤º-â€œæ²¡å¯ç”¨è½¯ä»¶åŒ…â€" class="headerlink" title="å½“yum install æç¤º â€œæ²¡å¯ç”¨è½¯ä»¶åŒ…â€"></a>å½“yum install æç¤º â€œæ²¡å¯ç”¨è½¯ä»¶åŒ…â€</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">yum install -y epel-release</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="off-t-undefined-æŠ¥é”™"><a href="#off-t-undefined-æŠ¥é”™" class="headerlink" title="off_t undefined æŠ¥é”™"></a>off_t undefined æŠ¥é”™</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">configure: error: off_t undefined; check your library configuration</span><br></pre></td></tr></table></figure>

<p>off_t ç±»å‹æ˜¯åœ¨ å¤´æ–‡ä»¶ unistd.hä¸­å®šä¹‰çš„ï¼Œ<br>åœ¨32ä½ç³»ç»Ÿ ç¼–ç¨‹æˆ long int ï¼Œ64ä½ç³»ç»Ÿåˆ™ç¼–è¯‘æˆ long long int ï¼Œ<br>åœ¨è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ æ˜¯é»˜è®¤æŸ¥æ‰¾64ä½çš„åŠ¨æ€é“¾æ¥åº“ï¼Œ<br>ä½†æ˜¯é»˜è®¤æƒ…å†µä¸‹ centos çš„åŠ¨æ€é“¾æ¥åº“é…ç½®æ–‡ä»¶/etc/ld.so.confé‡Œå¹¶æ²¡æœ‰åŠ å…¥æœç´¢è·¯å¾„ï¼Œ<br>è¿™ä¸ªæ—¶å€™éœ€è¦å°† /usr/local/lib64 /usr/lib64 è¿™äº›é’ˆå¯¹64ä½çš„åº“æ–‡ä»¶è·¯å¾„åŠ è¿›å»ã€‚</p>
<h6 id="æ·»åŠ æœç´¢è·¯å¾„åˆ°é…ç½®æ–‡ä»¶"><a href="#æ·»åŠ æœç´¢è·¯å¾„åˆ°é…ç½®æ–‡ä»¶" class="headerlink" title="æ·»åŠ æœç´¢è·¯å¾„åˆ°é…ç½®æ–‡ä»¶"></a>æ·»åŠ æœç´¢è·¯å¾„åˆ°é…ç½®æ–‡ä»¶</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &#39;&#x2F;usr&#x2F;local&#x2F;lib64</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;lib &#x2F;usr&#x2F;lib &#x2F;usr&#x2F;lib64&#39;&gt;&gt;&#x2F;etc&#x2F;ld.so.conf</span><br></pre></td></tr></table></figure>
<h6 id="ç„¶å-æ›´æ–°é…ç½®"><a href="#ç„¶å-æ›´æ–°é…ç½®" class="headerlink" title="ç„¶å æ›´æ–°é…ç½®"></a>ç„¶å æ›´æ–°é…ç½®</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ldconfig -v</span><br></pre></td></tr></table></figure>
<hr>
<h5 id="usr-local-include-zip-h-59-21-fatal-error-zipconf-h-No-such-file-or-directory"><a href="#usr-local-include-zip-h-59-21-fatal-error-zipconf-h-No-such-file-or-directory" class="headerlink" title="/usr/local/include/zip.h:59:21: fatal error: zipconf.h: No such file or directory"></a>/usr/local/include/zip.h:59:21: fatal error: zipconf.h: No such file or directory</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;usr&#x2F;local&#x2F;lib&#x2F;libzip&#x2F;include&#x2F;zipconf.h &#x2F;usr&#x2F;local&#x2F;include&#x2F;zipconf.h</span><br></pre></td></tr></table></figure>

<h5 id="ç¼–è¯‘æ²¡é—®é¢˜äº†ï¼Œæ‰§è¡Œmake-amp-amp-make-install-å®‰è£…å®Œæ¯•"><a href="#ç¼–è¯‘æ²¡é—®é¢˜äº†ï¼Œæ‰§è¡Œmake-amp-amp-make-install-å®‰è£…å®Œæ¯•" class="headerlink" title="ç¼–è¯‘æ²¡é—®é¢˜äº†ï¼Œæ‰§è¡Œmake &amp;&amp; make install  å®‰è£…å®Œæ¯•"></a>ç¼–è¯‘æ²¡é—®é¢˜äº†ï¼Œæ‰§è¡Œmake &amp;&amp; make install  å®‰è£…å®Œæ¯•</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<h4 id="5-é…ç½®ç¯å¢ƒ"><a href="#5-é…ç½®ç¯å¢ƒ" class="headerlink" title="5.é…ç½®ç¯å¢ƒ"></a>5.é…ç½®ç¯å¢ƒ</h4><p>æ‰§è¡Œå®Œå®‰è£…å‘½ä»¤åphp7.4å°±å·²ç»å®‰è£…åœ¨åˆ°äº†/usr/local/phpç›®å½•ä¸‹äº†</p>
<p>æŸ¥çœ‹ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;php&#x2F;bin&#x2F;php -v</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ç¯å¢ƒå˜é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ åˆ°æœ€å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;php&#x2F;bin</span><br><span class="line">export PATH</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°ç¯å¢ƒå˜é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">source &#x2F;etc&#x2F;profile</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">php -v</span><br></pre></td></tr></table></figure>

<h4 id="6-é…ç½®php-fpm"><a href="#6-é…ç½®php-fpm" class="headerlink" title="6.é…ç½®php-fpm"></a>6.é…ç½®php-fpm</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cp &#x2F;usr&#x2F;local&#x2F;src&#x2F;php-7.4.4&#x2F;php.ini-production &#x2F;etc&#x2F;php.ini</span><br><span class="line">cp &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.conf.default &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.conf</span><br><span class="line">cp &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.d&#x2F;www.conf.default &#x2F;usr&#x2F;local&#x2F;php&#x2F;etc&#x2F;php-fpm.d&#x2F;www.conf</span><br><span class="line">cp &#x2F;usr&#x2F;local&#x2F;src&#x2F;php-7.4.4&#x2F;sapi&#x2F;fpm&#x2F;init.d.php-fpm &#x2F;etc&#x2F;init.d&#x2F;php-fpm</span><br><span class="line">chmod +x &#x2F;etc&#x2F;init.d&#x2F;php-fpm</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨php-fpm</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;etc&#x2F;init.d&#x2F;php-fpm start</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service php-fpm start</span><br></pre></td></tr></table></figure>

<h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>æœ¬æ–‡ä¸ºè½¬è½½æ–‡ç« ï¼Œå¯¹æˆ‘å¸®åŠ©å¾ˆå¤§ï¼Œæ‰€ä»¥è½¬è½½è®°å½•ä¸€ä¸‹ã€‚å¦‚éœ€åˆ é™¤è¯·åŠæ—¶è”ç³»</p>
<p>åŸæ–‡åœ°å€ï¼š<a href="https://www.cnblogs.com/liubaoqing/p/12176017.html">https://www.cnblogs.com/liubaoqing/p/12176017.html</a></p>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>è½¬è½½</tag>
        <tag>CentOS7</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPçš„å¸¸ç”¨å·¥å…·å‡½æ•°</title>
    <url>//articles/2020/03/17/1584424890414.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20190711.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h2 id="è®°å½•å¹³æ—¶å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„å°å·¥å…·"><a href="#è®°å½•å¹³æ—¶å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„å°å·¥å…·" class="headerlink" title="è®°å½•å¹³æ—¶å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„å°å·¥å…·"></a>è®°å½•å¹³æ—¶å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„å°å·¥å…·</h2><h4 id="è·³è½¬é“¾æ¥"><a href="#è·³è½¬é“¾æ¥" class="headerlink" title="è·³è½¬é“¾æ¥"></a>è·³è½¬é“¾æ¥</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> string $url è¯·æ±‚åœ°å€</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">location</span>(<span class="params">$url</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">echo</span> <span class="string">&quot;&lt;script language=&#x27;javascript&#x27;&gt;window.location.href=&#x27;<span class="subst">&#123;$url&#125;</span>&#x27;;&lt;/script&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è¯·æ±‚é“¾æ¥è·å–æ•°æ®"><a href="#è¯·æ±‚é“¾æ¥è·å–æ•°æ®" class="headerlink" title="è¯·æ±‚é“¾æ¥è·å–æ•°æ®"></a>è¯·æ±‚é“¾æ¥è·å–æ•°æ®</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> Barry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2017-10-24</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $url è¯·æ±‚åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $param è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $httpMethod è¯·æ±‚æ–¹æ³•GETæˆ–è€…POST</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeRequest</span>(<span class="params">$url, $param, $httpMethod = <span class="string">&#x27;GET&#x27;</span>, $header=[]</span>) </span>&#123;</span><br><span class="line">        $oCurl = curl_init();</span><br><span class="line">        <span class="keyword">if</span> (stripos($url, <span class="string">&quot;https://&quot;</span>) !== <span class="literal">FALSE</span>) &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_SSL_VERIFYPEER, <span class="literal">FALSE</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_SSL_VERIFYHOST, <span class="literal">FALSE</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($httpMethod == <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_URL, $url . <span class="string">&quot;?&quot;</span> . http_build_query($param));</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_URL, $url);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_POST, <span class="number">1</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_POSTFIELDS, http_build_query($param));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">empty</span>($header)) &#123;</span><br><span class="line">            $headers = [];</span><br><span class="line">            <span class="keyword">foreach</span> ($header <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">                $headers[] = $k.<span class="string">&quot;:&quot;</span>.$v;</span><br><span class="line">            &#125;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_HTTPHEADER, $headers);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $sContent = curl_exec($oCurl);</span><br><span class="line"><span class="comment">//        print_r($sContent);exit;</span></span><br><span class="line"><span class="comment">//        $aStatus = curl_getinfo($oCurl);</span></span><br><span class="line"><span class="comment">//        print_r($aStatus);die;</span></span><br><span class="line">        curl_close($oCurl);</span><br><span class="line">        <span class="keyword">return</span> json_decode($sContent, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="è·å–å®¢æˆ·ç«¯IPåœ°å€"><a href="#è·å–å®¢æˆ·ç«¯IPåœ°å€" class="headerlink" title="è·å–å®¢æˆ·ç«¯IPåœ°å€"></a>è·å–å®¢æˆ·ç«¯IPåœ°å€</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å®¢æˆ·ç«¯IPåœ°å€</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getClientIP</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">static</span> $ip = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> ( $ip !== <span class="literal">NULL</span> )</span><br><span class="line">        <span class="keyword">return</span> $ip;</span><br><span class="line">    <span class="keyword">if</span> ( <span class="keyword">isset</span>( $_SERVER[<span class="string">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span>] ) ) &#123;</span><br><span class="line">        $arr = explode( <span class="string">&#x27;,&#x27;</span>, $_SERVER[<span class="string">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span>] );</span><br><span class="line">        $pos = array_search( <span class="string">&#x27;unknown&#x27;</span>, $arr );</span><br><span class="line">        <span class="keyword">if</span> ( <span class="literal">false</span> !== $pos )</span><br><span class="line">            <span class="keyword">unset</span>( $arr[$pos] );</span><br><span class="line">        $ip = trim( $arr[<span class="number">0</span>] );</span><br><span class="line">    &#125; <span class="keyword">elseif</span> ( <span class="keyword">isset</span>( $_SERVER[<span class="string">&#x27;HTTP_CLIENT_IP&#x27;</span>] ) ) &#123;</span><br><span class="line">        $ip = $_SERVER[<span class="string">&#x27;HTTP_CLIENT_IP&#x27;</span>];</span><br><span class="line">    &#125; <span class="keyword">elseif</span> ( <span class="keyword">isset</span>( $_SERVER[<span class="string">&#x27;REMOTE_ADDR&#x27;</span>] ) ) &#123;</span><br><span class="line">        $ip = $_SERVER[<span class="string">&#x27;REMOTE_ADDR&#x27;</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// IPåœ°å€åˆæ³•éªŒè¯</span></span><br><span class="line">    $ip = ( <span class="literal">false</span> !== ip2long( $ip ) ) ? $ip : <span class="string">&#x27;0.0.0.0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> $ip;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¾ªç¯åˆ›å»ºç›®å½•"><a href="#å¾ªç¯åˆ›å»ºç›®å½•" class="headerlink" title="å¾ªç¯åˆ›å»ºç›®å½•"></a>å¾ªç¯åˆ›å»ºç›®å½•</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * @instruction å¾ªç¯åˆ›å»ºç›®å½•</span><br><span class="line"> * @param $dir  ç›®å½•</span><br><span class="line"> * @param $mode æƒé™</span><br><span class="line"> * @author Barry</span><br><span class="line"> * @date 2017-10-24</span><br><span class="line"> * @version v1.0</span><br><span class="line"> *&#x2F;</span><br><span class="line">static public function mkdir( $dir, $mode &#x3D; 0777 ) &#123;</span><br><span class="line"></span><br><span class="line">    $aimUrl &#x3D; str_replace(&#39;&#39;, &#39;&#x2F;&#39;, $dir);</span><br><span class="line">    $aimDir &#x3D; &#39;&#39;;</span><br><span class="line">    $arr &#x3D; explode(&#39;&#x2F;&#39;, $aimUrl);</span><br><span class="line">    $result &#x3D; true;</span><br><span class="line">    foreach ($arr as $str) &#123;</span><br><span class="line">        $aimDir .&#x3D; $str . &#39;&#x2F;&#39;;</span><br><span class="line">        if (!file_exists($aimDir)) &#123;</span><br><span class="line">            $result &#x3D; mkdir($aimDir, $mode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return $result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å­—ç¬¦æˆªå–ï¼Œå¤šå‡ºçš„å­—ç¬¦ä¸²æ˜¾ç¤ºçœç•¥å·"><a href="#å­—ç¬¦æˆªå–ï¼Œå¤šå‡ºçš„å­—ç¬¦ä¸²æ˜¾ç¤ºçœç•¥å·" class="headerlink" title="å­—ç¬¦æˆªå–ï¼Œå¤šå‡ºçš„å­—ç¬¦ä¸²æ˜¾ç¤ºçœç•¥å·"></a>å­—ç¬¦æˆªå–ï¼Œå¤šå‡ºçš„å­—ç¬¦ä¸²æ˜¾ç¤ºçœç•¥å·</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­—ç¬¦æˆªå–</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $string</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $length</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $dot</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">cutstr</span>(<span class="params"> $string, $length, $dot = <span class="string">&#x27;...&#x27;</span>, $charset = <span class="string">&#x27;utf-8&#x27;</span> </span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ( strlen( $string ) &lt;= $length )</span><br><span class="line">            <span class="keyword">return</span> $string;</span><br><span class="line"></span><br><span class="line">        $pre = chr( <span class="number">1</span> );</span><br><span class="line">        $end = chr( <span class="number">1</span> );</span><br><span class="line">        $string = str_replace( <span class="keyword">array</span> ( <span class="string">&#x27;&amp;amp;&#x27;</span> , <span class="string">&#x27;&amp;quot;&#x27;</span> , <span class="string">&#x27;&amp;lt;&#x27;</span> , <span class="string">&#x27;&amp;gt;&#x27;</span> ), <span class="keyword">array</span> ( $pre . <span class="string">&#x27;&amp;&#x27;</span> . $end , $pre . <span class="string">&#x27;&quot;&#x27;</span> . $end , $pre . <span class="string">&#x27;&lt;&#x27;</span> . $end , $pre . <span class="string">&#x27;&gt;&#x27;</span> . $end ), $string );</span><br><span class="line"></span><br><span class="line">        $strcut = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> ( strtolower( $charset ) == <span class="string">&#x27;utf-8&#x27;</span> ) &#123;</span><br><span class="line"></span><br><span class="line">            $n = $tn = $noc = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ( $n &lt; strlen( $string ) ) &#123;</span><br><span class="line"></span><br><span class="line">                $t = ord( $string[$n] );</span><br><span class="line">                <span class="keyword">if</span> ( $t == <span class="number">9</span> || $t == <span class="number">10</span> || ( <span class="number">32</span> &lt;= $t &amp;&amp; $t &lt;= <span class="number">126</span> ) ) &#123;</span><br><span class="line">                    $tn = <span class="number">1</span>;</span><br><span class="line">                    $n ++;</span><br><span class="line">                    $noc ++;</span><br><span class="line">                &#125; <span class="keyword">elseif</span> ( <span class="number">194</span> &lt;= $t &amp;&amp; $t &lt;= <span class="number">223</span> ) &#123;</span><br><span class="line">                    $tn = <span class="number">2</span>;</span><br><span class="line">                    $n += <span class="number">2</span>;</span><br><span class="line">                    $noc += <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">elseif</span> ( <span class="number">224</span> &lt;= $t &amp;&amp; $t &lt;= <span class="number">239</span> ) &#123;</span><br><span class="line">                    $tn = <span class="number">3</span>;</span><br><span class="line">                    $n += <span class="number">3</span>;</span><br><span class="line">                    $noc += <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">elseif</span> ( <span class="number">240</span> &lt;= $t &amp;&amp; $t &lt;= <span class="number">247</span> ) &#123;</span><br><span class="line">                    $tn = <span class="number">4</span>;</span><br><span class="line">                    $n += <span class="number">4</span>;</span><br><span class="line">                    $noc += <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">elseif</span> ( <span class="number">248</span> &lt;= $t &amp;&amp; $t &lt;= <span class="number">251</span> ) &#123;</span><br><span class="line">                    $tn = <span class="number">5</span>;</span><br><span class="line">                    $n += <span class="number">5</span>;</span><br><span class="line">                    $noc += <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">elseif</span> ( $t == <span class="number">252</span> || $t == <span class="number">253</span> ) &#123;</span><br><span class="line">                    $tn = <span class="number">6</span>;</span><br><span class="line">                    $n += <span class="number">6</span>;</span><br><span class="line">                    $noc += <span class="number">2</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    $n ++;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> ( $noc &gt;= $length ) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ( $noc &gt; $length ) &#123;</span><br><span class="line">                $n -= $tn;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $strcut = substr( $string, <span class="number">0</span>, $n );</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> ( $i = <span class="number">0</span>; $i &lt; $length; $i ++ ) &#123;</span><br><span class="line">                $strcut .= ord( $string[$i] ) &gt; <span class="number">127</span> ? $string[$i] . $string[++ $i] : $string[$i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $strcut = str_replace( <span class="keyword">array</span> ( $pre . <span class="string">&#x27;&amp;&#x27;</span> . $end , $pre . <span class="string">&#x27;&quot;&#x27;</span> . $end , $pre . <span class="string">&#x27;&lt;&#x27;</span> . $end , $pre . <span class="string">&#x27;&gt;&#x27;</span> . $end ), <span class="keyword">array</span> ( <span class="string">&#x27;&amp;amp;&#x27;</span> , <span class="string">&#x27;&amp;quot;&#x27;</span> , <span class="string">&#x27;&amp;lt;&#x27;</span> , <span class="string">&#x27;&amp;gt;&#x27;</span> ), $strcut );</span><br><span class="line"></span><br><span class="line">        $pos = strrpos( $strcut, chr( <span class="number">1</span> ) );</span><br><span class="line">        <span class="keyword">if</span> ( $pos !== <span class="literal">false</span> ) &#123;</span><br><span class="line">            $strcut = substr( $strcut, <span class="number">0</span>, $pos );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $strcut . $dot;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="è·å¾—æ¥æºç±»å‹-post-get"><a href="#è·å¾—æ¥æºç±»å‹-post-get" class="headerlink" title="è·å¾—æ¥æºç±»å‹ post get"></a>è·å¾—æ¥æºç±»å‹ post get</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> strtoupper( <span class="keyword">isset</span>( $_SERVER[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] ) ? $_SERVER[<span class="string">&#x27;REQUEST_METHOD&#x27;</span>] : <span class="string">&#x27;GET&#x27;</span> );</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="è½¬æ¢XMLæ–‡æ¡£ä¸ºæ•°ç»„"><a href="#è½¬æ¢XMLæ–‡æ¡£ä¸ºæ•°ç»„" class="headerlink" title="è½¬æ¢XMLæ–‡æ¡£ä¸ºæ•°ç»„"></a>è½¬æ¢XMLæ–‡æ¡£ä¸ºæ•°ç»„</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * è½¬æ¢XMLæ–‡æ¡£ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@author</span> Barry</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@date</span> 2017-10-24</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> string xmlå†…å®¹</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> mixed è¿”å›çš„æ•°ç»„ï¼Œå¦‚æœå¤±è´¥ï¼Œè¿”å›false</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">xmlWx2array</span>(<span class="params">$xml</span>) </span>&#123;</span><br><span class="line">     $xml = (<span class="keyword">Array</span>)simplexml_load_string($xml, <span class="string">&quot;SimpleXMLElement&quot;</span>, LIBXML_NOCDATA);</span><br><span class="line">     <span class="keyword">return</span> $xml;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ­£åˆ™éªŒè¯urlæ˜¯å¦åˆæ³•"><a href="#æ­£åˆ™éªŒè¯urlæ˜¯å¦åˆæ³•" class="headerlink" title="æ­£åˆ™éªŒè¯urlæ˜¯å¦åˆæ³•"></a>æ­£åˆ™éªŒè¯urlæ˜¯å¦åˆæ³•</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">checkUrl</span>(<span class="params">$url</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!preg_match(<span class="string">&#x27;/^(http|https|ftp):\/\/[\w.]+[\w\/]*[\w.]*\??[\w=&amp;\+\%]*/is&#x27;</span>,$url))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="æ•°ç»„è½¬xml"><a href="#æ•°ç»„è½¬xml" class="headerlink" title="æ•°ç»„è½¬xml"></a>æ•°ç»„è½¬xml</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">arrayToXml</span>(<span class="params">$arr</span>) </span>&#123;</span><br><span class="line">     $xml = <span class="string">&quot;&lt;xml&gt;&quot;</span>;</span><br><span class="line">     <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $key=&gt;$val) &#123;</span><br><span class="line">         <span class="keyword">if</span> (is_numeric($val)) &#123;</span><br><span class="line">             $xml.=<span class="string">&quot;&lt;&quot;</span>.$key.<span class="string">&quot;&gt;&quot;</span>.$val.<span class="string">&quot;&lt;/&quot;</span>.$key.<span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">else</span> &#123;</span><br><span class="line">             $xml.=<span class="string">&quot;&lt;&quot;</span>.$key.<span class="string">&quot;&gt;&lt;![CDATA[&quot;</span>.$val.<span class="string">&quot;]]&gt;&lt;/&quot;</span>.$key.<span class="string">&quot;&gt;&quot;</span>;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     $xml.=<span class="string">&quot;&lt;/xml&gt;&quot;</span>;</span><br><span class="line">     <span class="comment">//echo $xml;</span></span><br><span class="line">     <span class="keyword">return</span> $xml;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="äºŒç»´æ•°ç»„æ’åº"><a href="#äºŒç»´æ•°ç»„æ’åº" class="headerlink" title="äºŒç»´æ•°ç»„æ’åº"></a>äºŒç»´æ•°ç»„æ’åº</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * äºŒç»´æ•°ç»„æ’åº</span></span><br><span class="line"><span class="comment">    *&lt;B&gt;è¯´æ˜ï¼š&lt;/B&gt;</span></span><br><span class="line"><span class="comment">    *&lt;pre&gt;</span></span><br><span class="line"><span class="comment">    *  ç•¥</span></span><br><span class="line"><span class="comment">    *&lt;/pre&gt;</span></span><br><span class="line"><span class="comment">    *&lt;B&gt;ç¤ºä¾‹ï¼š&lt;/B&gt;</span></span><br><span class="line"><span class="comment">    *&lt;pre&gt;</span></span><br><span class="line"><span class="comment">    *  $array = array(</span></span><br><span class="line"><span class="comment">    * 		array(&#x27;userId&#x27;=&gt;&#x27;3&#x27;,&#x27;name&#x27;=&gt;&#x27;admin3&#x27;),</span></span><br><span class="line"><span class="comment">    *      array(&#x27;userId&#x27;=&gt;&#x27;1&#x27;,&#x27;name&#x27;=&gt;&#x27;admin1&#x27;),</span></span><br><span class="line"><span class="comment">    *      array(&#x27;userId&#x27;=&gt;&#x27;2&#x27;,&#x27;name&#x27;=&gt;&#x27;admin2&#x27;)</span></span><br><span class="line"><span class="comment">    * )</span></span><br><span class="line"><span class="comment">    * ArrayList::arraySort($array,&#x27;userId&#x27;,&#x27;desc&#x27;);</span></span><br><span class="line"><span class="comment">    * ç»“æœ</span></span><br><span class="line"><span class="comment">    * 	 *  $array = array(</span></span><br><span class="line"><span class="comment">    * 		array(&#x27;userId&#x27;=&gt;&#x27;3&#x27;,&#x27;name&#x27;=&gt;&#x27;admin3&#x27;),</span></span><br><span class="line"><span class="comment">    *      array(&#x27;userId&#x27;=&gt;&#x27;2&#x27;,&#x27;name&#x27;=&gt;&#x27;admin2&#x27;)</span></span><br><span class="line"><span class="comment">    * 		array(&#x27;userId&#x27;=&gt;&#x27;1&#x27;,&#x27;name&#x27;=&gt;&#x27;admin1&#x27;),</span></span><br><span class="line"><span class="comment">    * )</span></span><br><span class="line"><span class="comment">    *&lt;/pre&gt;</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> array $arr æºæ•°ç»„</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> string $key æ•°æ®é¡¹key</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> string $order æ’åºè§„åˆ™ desc é™åº asc å‡åº</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> int</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">arraySort</span>(<span class="params">$arr, $key, $order = <span class="string">&#x27;desc&#x27;</span></span>) </span>&#123;</span><br><span class="line">       $keysvalue = $new_array = <span class="keyword">array</span>();</span><br><span class="line">       <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $k =&gt; $v) &#123;</span><br><span class="line">           $keysvalue[$k] = $v[$key];</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> ($order == <span class="string">&#x27;asc&#x27;</span>) &#123;</span><br><span class="line">           asort($keysvalue);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           arsort($keysvalue);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       reset($keysvalue);</span><br><span class="line">       <span class="keyword">foreach</span> ($keysvalue <span class="keyword">as</span> $k =&gt; $v) &#123;</span><br><span class="line">           $new_array[$k] = $arr[$k];</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">return</span> $new_array;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


<h4 id="åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡å®¢æˆ·ç«¯è¯·æ±‚"><a href="#åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡å®¢æˆ·ç«¯è¯·æ±‚" class="headerlink" title="åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡å®¢æˆ·ç«¯è¯·æ±‚"></a>åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡å®¢æˆ·ç«¯è¯·æ±‚</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">isWeixin</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ( strpos($_SERVER[<span class="string">&#x27;HTTP_USER_AGENT&#x27;</span>], <span class="string">&#x27;MicroMessenger&#x27;</span>) !== <span class="literal">false</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="è®¡ç®—ä¸¤ç»„ç»çº¬åº¦åæ ‡ä¹‹é—´çš„è·ç¦»"><a href="#è®¡ç®—ä¸¤ç»„ç»çº¬åº¦åæ ‡ä¹‹é—´çš„è·ç¦»" class="headerlink" title="è®¡ç®—ä¸¤ç»„ç»çº¬åº¦åæ ‡ä¹‹é—´çš„è·ç¦»"></a>è®¡ç®—ä¸¤ç»„ç»çº¬åº¦åæ ‡ä¹‹é—´çš„è·ç¦»</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¡ç®—ä¸¤ç»„ç»çº¬åº¦åæ ‡ ä¹‹é—´çš„è·ç¦»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span> $lat1 çº¬åº¦1ï¼›</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span> $lng1 ç»åº¦1ï¼›</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span> $lat2 çº¬åº¦2ï¼›</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span> $lng2 ç»åº¦2ï¼›</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@params</span> $len_type ï¼ˆ1:m or 2:km);</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> m or km</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getDistance</span>(<span class="params">$lat1, $lng1, $lat2, $lng2, $len_type = <span class="number">1</span>, $decimal = <span class="number">2</span></span>) </span>&#123;</span><br><span class="line">    $EARTH_RADIUS=<span class="number">6378.137</span>;</span><br><span class="line">    $PI=<span class="number">3.1415926</span>;</span><br><span class="line">    $radLat1 = $lat1 * $PI / <span class="number">180.0</span>;</span><br><span class="line">    $radLat2 = $lat2 * $PI / <span class="number">180.0</span>;</span><br><span class="line">    $a = $radLat1 - $radLat2;</span><br><span class="line">    $b = ($lng1 * $PI / <span class="number">180.0</span>) - ($lng2 * $PI / <span class="number">180.0</span>);</span><br><span class="line">    $s = <span class="number">2</span> * asin(sqrt(pow(sin($a/<span class="number">2</span>),<span class="number">2</span>) + cos($radLat1) * cos($radLat2) * pow(sin($b/<span class="number">2</span>),<span class="number">2</span>)));</span><br><span class="line">    $s = $s * $EARTH_RADIUS; $s = round($s * <span class="number">1000</span>);</span><br><span class="line">    <span class="keyword">if</span> ($len_type &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        $s /= <span class="number">1000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> round($s,$decimal);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="å°†æ—¶é—´æˆ³æ˜¾ç¤ºä¸ºåˆšåˆšã€å‡ åˆ†é’Ÿå‰ã€å‡ å°æ—¶å‰ã€æ˜¨å¤©ã€å‰å¤©ç­‰"><a href="#å°†æ—¶é—´æˆ³æ˜¾ç¤ºä¸ºåˆšåˆšã€å‡ åˆ†é’Ÿå‰ã€å‡ å°æ—¶å‰ã€æ˜¨å¤©ã€å‰å¤©ç­‰" class="headerlink" title="å°†æ—¶é—´æˆ³æ˜¾ç¤ºä¸ºåˆšåˆšã€å‡ åˆ†é’Ÿå‰ã€å‡ å°æ—¶å‰ã€æ˜¨å¤©ã€å‰å¤©ç­‰"></a>å°†æ—¶é—´æˆ³æ˜¾ç¤ºä¸ºåˆšåˆšã€å‡ åˆ†é’Ÿå‰ã€å‡ å°æ—¶å‰ã€æ˜¨å¤©ã€å‰å¤©ç­‰</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * æ—¶é—´æ ¼å¼åŒ– ä¼ å…¥æ—¶é—´æˆ³~~~~</span><br><span class="line"> *&#x2F;</span><br><span class="line">static public function formatDate($time)&#123;</span><br><span class="line">    $rtime &#x3D; date ( &quot;m-d H:i&quot;, $time );</span><br><span class="line">    $htime &#x3D; date ( &quot;H:i&quot;, $time );</span><br><span class="line"></span><br><span class="line">    $time &#x3D; time () - $time;</span><br><span class="line"></span><br><span class="line">    if ($time &lt; 60) &#123;</span><br><span class="line">        $str &#x3D; &#39;åˆšåˆš&#39;;</span><br><span class="line">    &#125; elseif ($time &lt; 60 * 60) &#123;</span><br><span class="line">        $min &#x3D; floor ( $time &#x2F; 60 );</span><br><span class="line">        $str &#x3D; $min . &#39;åˆ†é’Ÿå‰&#39;;</span><br><span class="line">    &#125; elseif ($time &lt; 60 * 60 * 24) &#123;</span><br><span class="line">        $h &#x3D; floor ( $time &#x2F; (60 * 60) );</span><br><span class="line">        $str &#x3D; $h . &#39;å°æ—¶å‰ &#39; . $htime;</span><br><span class="line">    &#125; elseif ($time &lt; 60 * 60 * 24 * 3) &#123;</span><br><span class="line">        $d &#x3D; floor ( $time &#x2F; (60 * 60 * 24) );</span><br><span class="line">        if ($d &#x3D;&#x3D; 1)</span><br><span class="line">            $str &#x3D; &#39;æ˜¨å¤© &#39; . $rtime;</span><br><span class="line">        else</span><br><span class="line">            $str &#x3D; &#39;å‰å¤© &#39; . $rtime;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        $str &#x3D; $rtime;</span><br><span class="line">    &#125;</span><br><span class="line">    return $str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°"><a href="#æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°" class="headerlink" title="æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°"></a>æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">     * æ±‚ä¸¤ä¸ªæ—¥æœŸä¹‹é—´ç›¸å·®çš„å¤©æ•°</span><br><span class="line">     * @param string $datetime1</span><br><span class="line">     * @param string $datetime2</span><br><span class="line">     * @return number</span><br><span class="line">     *&#x2F;</span><br><span class="line">    static public function diffBetweenTwoDays($datetime1, $datetime2) &#123;</span><br><span class="line">        $second1 &#x3D; strtotime($datetime1);</span><br><span class="line">        $second2 &#x3D; strtotime($datetime2);</span><br><span class="line"></span><br><span class="line">        if ($second1 &lt; $second2) &#123;</span><br><span class="line">            $tmp &#x3D; $second2;</span><br><span class="line">            $second2 &#x3D; $second1;</span><br><span class="line">            $second1 &#x3D; $tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        return bcdiv(bcsub($second1, $second2, 3), 86400, 3);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ ¹æ®ç”Ÿæ—¥è®¡ç®—å¹´é¾„"><a href="#æ ¹æ®ç”Ÿæ—¥è®¡ç®—å¹´é¾„" class="headerlink" title="æ ¹æ®ç”Ÿæ—¥è®¡ç®—å¹´é¾„"></a>æ ¹æ®ç”Ÿæ—¥è®¡ç®—å¹´é¾„</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">static public function Birthday($birthday) &#123;</span><br><span class="line">        $age &#x3D; $birthday;</span><br><span class="line">        if($age &#x3D;&#x3D;&#x3D; false) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        list($y1,$m1,$d1) &#x3D; explode(&quot;-&quot;,date(&quot;Y-m-d&quot;,$age));</span><br><span class="line">        $now &#x3D; strtotime(&quot;now&quot;);</span><br><span class="line">        list($y2,$m2,$d2) &#x3D; explode(&quot;-&quot;,date(&quot;Y-m-d&quot;,$now));</span><br><span class="line">        $age &#x3D; $y2 - $y1;</span><br><span class="line">        if((int)($m2.$d2) &lt; (int)($m1.$d1))</span><br><span class="line">            $age -&#x3D; 1;</span><br><span class="line">        return $age;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç§’è½¬åŒ–æˆæ—¶åˆ†ç§’æ˜¾ç¤º"><a href="#ç§’è½¬åŒ–æˆæ—¶åˆ†ç§’æ˜¾ç¤º" class="headerlink" title="ç§’è½¬åŒ–æˆæ—¶åˆ†ç§’æ˜¾ç¤º"></a>ç§’è½¬åŒ–æˆæ—¶åˆ†ç§’æ˜¾ç¤º</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**ç§’è½¬åŒ–æˆæ˜¯æ—¶åˆ†ç§’</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> Barry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2017-10-24</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $seconds</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">changeTimeType</span>(<span class="params">$seconds</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($seconds &gt; <span class="number">3600</span>)&#123;</span><br><span class="line">            $hours = intval($seconds/<span class="number">3600</span>);</span><br><span class="line">            $minutes = $seconds % <span class="number">3600</span>;</span><br><span class="line">            $time = $hours.<span class="string">&quot;:&quot;</span>.gmstrftime(<span class="string">&#x27;%M:%S&#x27;</span>, $minutes);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $time = gmstrftime(<span class="string">&#x27;%H:%M:%S&#x27;</span>, $seconds);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> $time;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹"><a href="#åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹" class="headerlink" title="åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹"></a>åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">delDir</span>(<span class="params">$path</span>)</span>&#123;</span><br><span class="line">        error_reporting(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯ç›®å½•åˆ™ç»§ç»­</span></span><br><span class="line">        <span class="keyword">if</span>(is_dir($path))&#123;</span><br><span class="line">            <span class="comment">//æ‰«æä¸€ä¸ªæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶å¹¶è¿”å›æ•°ç»„</span></span><br><span class="line">            $p = scandir($path);</span><br><span class="line">            <span class="keyword">foreach</span>($p <span class="keyword">as</span> $val)&#123;</span><br><span class="line">                <span class="comment">//æ’é™¤ç›®å½•ä¸­çš„.å’Œ..</span></span><br><span class="line">                <span class="keyword">if</span>($val !=<span class="string">&quot;.&quot;</span> &amp;&amp; $val !=<span class="string">&quot;..&quot;</span>)&#123;</span><br><span class="line">                    <span class="comment">//å¦‚æœæ˜¯ç›®å½•åˆ™é€’å½’å­ç›®å½•ï¼Œç»§ç»­æ“ä½œ</span></span><br><span class="line">                    <span class="keyword">if</span>(is_dir($path.$val))&#123;</span><br><span class="line">                        <span class="comment">//å­ç›®å½•ä¸­æ“ä½œåˆ é™¤æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</span></span><br><span class="line">                        <span class="built_in">self</span>::deldir($path.$val.<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">                        <span class="comment">//ç›®å½•æ¸…ç©ºååˆ é™¤ç©ºæ–‡ä»¶å¤¹</span></span><br><span class="line">                        @rmdir($path.$val.<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="comment">//å¦‚æœæ˜¯æ–‡ä»¶ç›´æ¥åˆ é™¤</span></span><br><span class="line">                        @unlink($path.$val);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            @rmdir($path);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="PHPæ¨¡æ‹Ÿå‘é€å¼‚æ­¥è¯·æ±‚"><a href="#PHPæ¨¡æ‹Ÿå‘é€å¼‚æ­¥è¯·æ±‚" class="headerlink" title="PHPæ¨¡æ‹Ÿå‘é€å¼‚æ­¥è¯·æ±‚"></a>PHPæ¨¡æ‹Ÿå‘é€å¼‚æ­¥è¯·æ±‚</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * PHPå‘é€å¼‚æ­¥è¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> Barry</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2017-10-24</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $url è¯·æ±‚åœ°å€</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $param è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $httpMethod è¯·æ±‚æ–¹æ³•GETæˆ–è€…POST</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> array $header</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolean</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">makeAsyncRequest</span>(<span class="params">$url, $param, $httpMethod = <span class="string">&#x27;GET&#x27;</span>, $header=[]</span>) </span>&#123;</span><br><span class="line">        $oCurl = curl_init();</span><br><span class="line">        <span class="keyword">if</span> (stripos($url, <span class="string">&quot;https://&quot;</span>) !== <span class="literal">FALSE</span>) &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_SSL_VERIFYPEER, <span class="literal">FALSE</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_SSL_VERIFYHOST, <span class="literal">FALSE</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ($httpMethod == <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_URL, $url . <span class="string">&quot;?&quot;</span> . http_build_query($param));</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_URL, $url);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_POST, <span class="number">1</span>);</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_POSTFIELDS, http_build_query($param));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">empty</span>($header)) &#123;</span><br><span class="line">            $headers = [];</span><br><span class="line">            <span class="keyword">foreach</span> ($header <span class="keyword">as</span> $k=&gt;$v)&#123;</span><br><span class="line">                $headers[] = $k.<span class="string">&quot;:&quot;</span>.$v;</span><br><span class="line">            &#125;</span><br><span class="line">            curl_setopt($oCurl, CURLOPT_HTTPHEADER, $headers);</span><br><span class="line">        &#125;</span><br><span class="line">        curl_setopt($oCurl, CURLOPT_NOSIGNAL, <span class="number">1</span>);<span class="comment">//å¿…é¡»åŠ ï¼Œå¦åˆ™ä¸‹é¢è®¾ç½®æ¯«ç§’çº§ä¼šæŠ¥é”™</span></span><br><span class="line">        curl_setopt($oCurl, CURLOPT_TIMEOUT_MS, <span class="number">18</span>);<span class="comment">//è®¾ç½®cURLå…è®¸æ‰§è¡Œçš„æœ€é•¿æ¯«ç§’æ•°</span></span><br><span class="line"></span><br><span class="line">        $sContent = curl_exec($oCurl);</span><br><span class="line"><span class="comment">//        print_r($sContent);exit;</span></span><br><span class="line"><span class="comment">//        $aStatus = curl_getinfo($oCurl);</span></span><br><span class="line">        curl_close($oCurl);</span><br><span class="line">        <span class="keyword">return</span> json_decode($sContent, <span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="éšè—æ‰‹æœºå·ä¸­é—´4ä½"><a href="#éšè—æ‰‹æœºå·ä¸­é—´4ä½" class="headerlink" title="éšè—æ‰‹æœºå·ä¸­é—´4ä½"></a>éšè—æ‰‹æœºå·ä¸­é—´4ä½</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function blur_phone_number($phoneNum)</span><br><span class="line">    &#123;</span><br><span class="line">        $head &#x3D; substr($phoneNum, 0, 3);</span><br><span class="line">        $tail &#x3D; substr($phoneNum, -4, 4);</span><br><span class="line">        return ($head . &#39;****&#39; . $tail);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


<h4 id="å–æ¯«ç§’çº§æ—¶é—´æˆ³"><a href="#å–æ¯«ç§’çº§æ—¶é—´æˆ³" class="headerlink" title="å–æ¯«ç§’çº§æ—¶é—´æˆ³"></a>å–æ¯«ç§’çº§æ—¶é—´æˆ³</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å–æ¯«ç§’çº§æ—¶é—´æˆ³</span><br><span class="line">function getMillisecond() &#123;</span><br><span class="line">        list($t1, $t2) &#x3D; explode(&#39; &#39;, microtime());</span><br><span class="line">        return (float)sprintf(&#39;%.0f&#39;,(floatval($t1)+floatval($t2))*1000);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>RabbitMQçš„å®‰è£…ä»¥åŠå¯¹åº”çš„PHPæ‰©å±•çš„å®‰è£…</title>
    <url>//articles/2020/03/17/1584413384830.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180610.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<p>è®°äº2019-2-27</p>
<h6 id="ç¯å¢ƒï¼šwindows-å¹³å°ï¼ŒPHP7-1-9"><a href="#ç¯å¢ƒï¼šwindows-å¹³å°ï¼ŒPHP7-1-9" class="headerlink" title="ç¯å¢ƒï¼šwindows å¹³å°ï¼ŒPHP7.1.9"></a>ç¯å¢ƒï¼šwindows å¹³å°ï¼ŒPHP7.1.9</h6><h2 id="1ã€å®‰è£…-Erlang"><a href="#1ã€å®‰è£…-Erlang" class="headerlink" title="1ã€å®‰è£… Erlang"></a>1ã€å®‰è£… Erlang</h2><ul>
<li>å› ä¸º RabbitMQ æ˜¯ç”¨ Erlang è¯­è¨€ç¼–å†™ï¼Œå®‰è£…ä¹‹å‰éœ€è¦å…ˆå®‰è£… Erlangï¼Œ ä¸‹è½½åœ°å€<a href="http://www.erlang.org/downloads">http://www.erlang.org/downloads</a></li>
</ul>
<p><img src="https://img.hacpai.com/file/2020/03/image-b1a355b3.png" alt="image.png"></p>
<ul>
<li><p>æˆ‘é€‰æ‹©çš„æ˜¯å›¾ä¸­çš„ç‰ˆæœ¬ï¼Œä¸€ç›´nextå³å¯</p>
<h2 id="2ã€ä¸‹è½½å®‰è£…RabbitMQ"><a href="#2ã€ä¸‹è½½å®‰è£…RabbitMQ" class="headerlink" title="2ã€ä¸‹è½½å®‰è£…RabbitMQ"></a>2ã€ä¸‹è½½å®‰è£…RabbitMQ</h2></li>
<li><p>ä¸‹è½½åœ°å€<a href="http://www.rabbitmq.com/download.html">http://www.rabbitmq.com/download.html</a></p>
</li>
<li><p>ä¹Ÿæ˜¯ä¸€ç›´next</p>
</li>
<li><p>å®‰è£…å®Œæˆåå¹¶æ²¡æœ‰å¯åŠ¨RabbitMQï¼Œéœ€è¦æ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p>
</li>
</ul>
<p><img src="https://img.hacpai.com/file/2020/03/image-3ecf633e.png" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rabbitmq-plugins.bat enable rabbitmq_management</span><br><span class="line"></span><br><span class="line">rabbitmq-service.bat start</span><br></pre></td></tr></table></figure>


<p>PS: 2019 å¹´ 2 æœˆ 12 æ—¥æ·»åŠ </p>
<ul>
<li>å¦‚æœæ‰§è¡Œ rabbitmq-plugins.bat enable rabbitmq_management æŠ¥é”™ï¼Œå¹¶ä¸”æ˜¯è®¾ç½®å¥½äº†ç¯å¢ƒå˜é‡åä¾ç„¶å‡ºç°è¿™ä¸ªé—®é¢˜ï¼š</li>
</ul>
<p><img src="https://img.hacpai.com/file/2020/03/image-ce381e48.png" alt="image.png"></p>
<ul>
<li>é‚£ä¹ˆå°±æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åï¼Œåœ¨æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤</li>
</ul>
<p><img src="https://img.hacpai.com/file/2020/03/image-fe471b8d.png" alt="image.png"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">set ERLANG_HOME&#x3D;C:\Program Files\erl10.2</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯èƒ½ä¼šæŠ¥é”™æç¤º ä½†å·²ç»è¿è¡Œ è¿™ä¸ªæ—¶å€™æ‰§è¡Œ<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rabbitmq-service.bat stop</span><br></pre></td></tr></table></figure></li>
<li>è®¿é—®<a href="http://localhost:15672/">http://localhost:15672/</a> å³å¯ã€‚é»˜è®¤çš„å¸å·ï¼šguest  å¯†ç ï¼šguest</li>
</ul>
<p><img src="https://img.hacpai.com/file/2020/03/image-1458e7cd.png" alt="image.png"></p>
<h2 id="3ã€å®‰è£…PHPçš„rabbitMQæ‰©å±•"><a href="#3ã€å®‰è£…PHPçš„rabbitMQæ‰©å±•" class="headerlink" title="3ã€å®‰è£…PHPçš„rabbitMQæ‰©å±•"></a>3ã€å®‰è£…PHPçš„rabbitMQæ‰©å±•</h2><h4 id="ä¸‹è½½-dll-æ–‡ä»¶-åœ°å€-http-pecl-php-net-package-amqp"><a href="#ä¸‹è½½-dll-æ–‡ä»¶-åœ°å€-http-pecl-php-net-package-amqp" class="headerlink" title="ä¸‹è½½ dll æ–‡ä»¶ åœ°å€  http://pecl.php.net/package/amqp"></a>ä¸‹è½½ dll æ–‡ä»¶ åœ°å€  <a href="http://pecl.php.net/package/amqp">http://pecl.php.net/package/amqp</a></h4><ol>
<li>å…ˆæŸ¥çœ‹ PHP ç‰ˆæœ¬ã€‚</li>
</ol>
<p><img src="https://img.hacpai.com/file/2020/03/image-51e11d34.png" alt="image.png"></p>
<ol start="2">
<li>é€‰æ‹©é—®ç¨³å®šç‰ˆçš„ dll</li>
</ol>
<p><img src="https://img.hacpai.com/file/2020/03/image-1cbd4339.png" alt="image.png"></p>
<p> æˆ‘é€‰æ‹©çš„æ˜¯ 1.9.3 ã€‚å› ä¸º Thread Safety  enable  ,æ‰€ä»¥é€‰æ‹©çš„æ˜¯ TSã€‚</p>
<p><img src="https://img.hacpai.com/file/2020/03/image-ae7f0118.png" alt="image.png"></p>
<ol start="3">
<li>ä¸‹è½½åè§£å‹</li>
</ol>
<p><img src="https://img.hacpai.com/file/2020/03/image-9c95aaed.png" alt="image.png"></p>
<ol start="4">
<li>å°† php_amqp.dll æ–‡ä»¶æ”¾åœ¨ PHP å®‰è£…ç›®å½• ext ä¸‹</li>
</ol>
<p><img src="https://img.hacpai.com/file/2020/03/image-6a3a5330.png" alt="image.png"></p>
<ol start="5">
<li>php.ini é‡Œé¢æ·»åŠ </li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extension&#x3D;php_amqp.dll</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>å°† rabbitmq.4.dll æ–‡ä»¶æ”¾åœ¨ php/php7.1.9/ç›®å½•ä¸‹ï¼Œå¹¶åœ¨ apach çš„ httpd.conf æ–‡ä»¶ä¸­åŠ ä¸Šä¸€å¥ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LoadFile &quot;C:&#x2F;wamp64&#x2F;bin&#x2F;php&#x2F;php7.1.9&#x2F;rabbitmq.4.dll&quot;</span><br></pre></td></tr></table></figure>
<p><img src="https://img.hacpai.com/file/2020/03/image-861d7af8.png" alt="image.png"></p>
<ol start="7">
<li><p>é‡å¯ apache å’Œ PHP æœåŠ¡ã€‚</p>
</li>
<li><p>è®¿é—® phpinfo();</p>
</li>
<li><p>æœ‰ amqp åˆ™å®‰è£…æˆåŠŸ</p>
</li>
</ol>
<p><img src="https://img.hacpai.com/file/2020/03/image-77d95e4d.png" alt="image.png"></p>
<h2 id="4ã€é¡¹ç›®ä¸­å®‰è£…php-amqplibåº“"><a href="#4ã€é¡¹ç›®ä¸­å®‰è£…php-amqplibåº“" class="headerlink" title="4ã€é¡¹ç›®ä¸­å®‰è£…php-amqplibåº“"></a>4ã€é¡¹ç›®ä¸­å®‰è£…php-amqplibåº“</h2><h4 id="ä½¿ç”¨-composer-å®‰è£…"><a href="#ä½¿ç”¨-composer-å®‰è£…" class="headerlink" title="ä½¿ç”¨ composer å®‰è£…"></a>ä½¿ç”¨ composer å®‰è£…</h4><ol>
<li>é¡¹ç›®ç›®å½•ä¸‹çš„ composer.json æ–‡ä»¶ä¸­å¢åŠ ä¸‹é¢å†…å®¹</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;require&quot;: &#123;</span><br><span class="line">    &quot;php-amqplib&#x2F;php-amqplib&quot;: &quot;^2.8&quot;,  &#x2F;&#x2F;å¢åŠ è¿™è¡Œ</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#96;&#96;&#96;&#96;</span><br><span class="line">2. ç„¶åæ‰§è¡Œ:</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p> composer update php-amqplib/php-amqplibã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">#### æ›´åŠ æ–¹ä¾¿çš„åšæ³•æ˜¯ç›´æ¥æ‰§è¡Œ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>composer require php-amqplib/php-amqplib </p>
<pre><code>ä¾¿å¯ä»¥ç›´æ¥è¿›è¡Œå®‰è£…äº†

![image.png](https://img.hacpai.com/file/2020/03/image-b6ba5d5b.png)



## 5ã€æ¥ä¸‹æ¥å°±å¯ä»¥å°½æƒ…çš„ç©è€äº†ã€‚ã€‚ã€‚</code></pre>
]]></content>
      <tags>
        <tag>RabbitMQ</tag>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨githubå½“ä½œè‡ªå·±çš„é™æ€æ–‡ä»¶åº“</title>
    <url>//articles/2020/03/11/1583919217986.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20200218.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><p>å¾ˆå¤šæ—¶å€™è‡ªå·±çš„åšå®¢æˆ–è€…æ˜¯ç½‘ç«™é¡¹ç›®éƒ½ä¼šæ¶‰åŠåˆ°ä¸€äº›é™æ€æ–‡ä»¶çš„è®¿é—®ï¼Œå¦‚å›¾ç‰‡ã€js æ–‡ä»¶ï¼ŒCSS æ–‡ä»¶ã€‚å¦‚æœå…¨æ”¾åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œå°†ä¼šäº§ç”Ÿä¸å¿…è¦çš„è´¹ç”¨ï¼Œå¹¶ä¸”è®¿é—®çš„é€Ÿåº¦ä¹Ÿä¸èƒ½å¾—åˆ°ä¿è¯ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸€ä¸ªæ–¹å¼èƒ½å¤Ÿæä¾›å…è´¹é«˜æ•ˆç¨³å®šçš„æ–¹å¼æ¥å­˜æ”¾åŠè®¿é—®æˆ‘ä»¬çš„é™æ€æ–‡ä»¶ã€‚</p>
<h2 id="ä¸€ã€åœ¨-GitHub-ä¸Šåˆ›å»ºä¸€ä¸ªå›¾åºŠä»“åº“"><a href="#ä¸€ã€åœ¨-GitHub-ä¸Šåˆ›å»ºä¸€ä¸ªå›¾åºŠä»“åº“" class="headerlink" title="ä¸€ã€åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªå›¾åºŠä»“åº“"></a>ä¸€ã€åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªå›¾åºŠä»“åº“</h2><p><img src="https://cdn.jsdelivr.net/gh/barryzpc/pic-repo/my-blog/img/image-c1eaf3b5.png" alt="image.png"></p>
<ul>
<li>PSï¼šä¸€å®šè¦é€‰ Public ä¸ç„¶æ— æ³•è®¿é—®åˆ°èµ„æº</li>
</ul>
<h2 id="äºŒã€å°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°"><a href="#äºŒã€å°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°" class="headerlink" title="äºŒã€å°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°"></a>äºŒã€å°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone git@github.com:barryzpc/pic-repo.git</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€åˆ›å»ºè‡ªå·±çš„é¡¹ç›®"><a href="#ä¸‰ã€åˆ›å»ºè‡ªå·±çš„é¡¹ç›®" class="headerlink" title="ä¸‰ã€åˆ›å»ºè‡ªå·±çš„é¡¹ç›®"></a>ä¸‰ã€åˆ›å»ºè‡ªå·±çš„é¡¹ç›®</h2><h4 id="åœ¨-pic-repo-é¡¹ç›®ä¸­åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘æœ‰ä¸ªåšå®¢çš„é¡¹ç›®é‚£ä¹ˆæˆ‘å°±å»ºç«‹ä¸€ä¸ª-my-blog-çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨åœ¨æ–‡ä»¶å¤¹ä¸‹é¢åˆ†åˆ«åˆ›å»º-img-js-ç­‰ç›®å½•ï¼š"><a href="#åœ¨-pic-repo-é¡¹ç›®ä¸­åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘æœ‰ä¸ªåšå®¢çš„é¡¹ç›®é‚£ä¹ˆæˆ‘å°±å»ºç«‹ä¸€ä¸ª-my-blog-çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨åœ¨æ–‡ä»¶å¤¹ä¸‹é¢åˆ†åˆ«åˆ›å»º-img-js-ç­‰ç›®å½•ï¼š" class="headerlink" title="åœ¨ pic-repo é¡¹ç›®ä¸­åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘æœ‰ä¸ªåšå®¢çš„é¡¹ç›®é‚£ä¹ˆæˆ‘å°±å»ºç«‹ä¸€ä¸ª my-blog çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨åœ¨æ–‡ä»¶å¤¹ä¸‹é¢åˆ†åˆ«åˆ›å»º img,js ç­‰ç›®å½•ï¼š"></a>åœ¨ pic-repo é¡¹ç›®ä¸­åˆ›å»ºè‡ªå·±çš„é¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘æœ‰ä¸ªåšå®¢çš„é¡¹ç›®é‚£ä¹ˆæˆ‘å°±å»ºç«‹ä¸€ä¸ª my-blog çš„æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨åœ¨æ–‡ä»¶å¤¹ä¸‹é¢åˆ†åˆ«åˆ›å»º img,js ç­‰ç›®å½•ï¼š</h4><p><img src="https://cdn.jsdelivr.net/gh/barryzpc/pic-repo/my-blog/img/image-589b7be6.png" alt="image.png"></p>
<h2 id="å››ã€æ·»åŠ é™æ€æ–‡ä»¶åˆ°å¯¹åº”çš„ç›®å½•ä¸­"><a href="#å››ã€æ·»åŠ é™æ€æ–‡ä»¶åˆ°å¯¹åº”çš„ç›®å½•ä¸­" class="headerlink" title="å››ã€æ·»åŠ é™æ€æ–‡ä»¶åˆ°å¯¹åº”çš„ç›®å½•ä¸­"></a>å››ã€æ·»åŠ é™æ€æ–‡ä»¶åˆ°å¯¹åº”çš„ç›®å½•ä¸­</h2><h4 id="æ¯”å¦‚ï¼Œæˆ‘æ·»åŠ ä¸€å¼ å›¾ç‰‡åˆ°æˆ‘çš„-img-ç›®å½•ä¸‹"><a href="#æ¯”å¦‚ï¼Œæˆ‘æ·»åŠ ä¸€å¼ å›¾ç‰‡åˆ°æˆ‘çš„-img-ç›®å½•ä¸‹" class="headerlink" title="æ¯”å¦‚ï¼Œæˆ‘æ·»åŠ ä¸€å¼ å›¾ç‰‡åˆ°æˆ‘çš„ img ç›®å½•ä¸‹"></a>æ¯”å¦‚ï¼Œæˆ‘æ·»åŠ ä¸€å¼ å›¾ç‰‡åˆ°æˆ‘çš„ img ç›®å½•ä¸‹</h4><p><img src="https://cdn.jsdelivr.net/gh/barryzpc/pic-repo/my-blog/img/image-7f90875c.png" alt="image.png"></p>
<h2 id="äº”ã€æäº¤åˆ°-GitHub"><a href="#äº”ã€æäº¤åˆ°-GitHub" class="headerlink" title="äº”ã€æäº¤åˆ° GitHub"></a>äº”ã€æäº¤åˆ° GitHub</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;add pic&quot;</span><br><span class="line">git push </span><br></pre></td></tr></table></figure>

<p>è¿™æ—¶å›¾ç‰‡çš„å·²ç»æäº¤åˆ° GitHub ä¸Š</p>
<ul>
<li>PS: å¦‚æœåŒ…å«æœ‰å¤§é‡çš„å›¾ç‰‡ï¼Œå¯ä»¥é€‰æ‹©ç”¨ <strong><a href="https://github.com/Molunerfinn/PicGo">PicGo</a></strong> è¿™ä¸ªå·¥å…·æ¥ä¸Šä¼ </li>
</ul>
<h2 id="å…­ã€å¦‚ä½•è®¿é—®åˆ°é™æ€æ–‡ä»¶"><a href="#å…­ã€å¦‚ä½•è®¿é—®åˆ°é™æ€æ–‡ä»¶" class="headerlink" title="å…­ã€å¦‚ä½•è®¿é—®åˆ°é™æ€æ–‡ä»¶"></a>å…­ã€å¦‚ä½•è®¿é—®åˆ°é™æ€æ–‡ä»¶</h2><h4 id="è®¿é—®çš„è¿æ¥å¦‚ä½•è·å–å‘¢ï¼Ÿè¿™é‡Œå°±ä¸å¾—ä¸æåˆ°ä¸€ä¸ªå‰å®³çš„-CDN-åŠ é€ŸæœåŠ¡-jsDelivr"><a href="#è®¿é—®çš„è¿æ¥å¦‚ä½•è·å–å‘¢ï¼Ÿè¿™é‡Œå°±ä¸å¾—ä¸æåˆ°ä¸€ä¸ªå‰å®³çš„-CDN-åŠ é€ŸæœåŠ¡-jsDelivr" class="headerlink" title="è®¿é—®çš„è¿æ¥å¦‚ä½•è·å–å‘¢ï¼Ÿè¿™é‡Œå°±ä¸å¾—ä¸æåˆ°ä¸€ä¸ªå‰å®³çš„ CDN åŠ é€ŸæœåŠ¡ jsDelivr"></a>è®¿é—®çš„è¿æ¥å¦‚ä½•è·å–å‘¢ï¼Ÿè¿™é‡Œå°±ä¸å¾—ä¸æåˆ°ä¸€ä¸ªå‰å®³çš„ CDN åŠ é€ŸæœåŠ¡ <a href="https://www.jsdelivr.com/" title="jsDelivr">jsDelivr</a></h4><ul>
<li> <code>jsDelivr</code> ä¸ºå¼€å‘è€…æä¾›å…è´¹å…¬å…± CDN åŠ é€ŸæœåŠ¡</li>
<li>åœ¨ä¸­å›½å¤§é™†å”¯ä¸€æœ‰ license çš„å…¬æœ‰ CDNï¼Œè€Œä¸”ä½¿ç”¨ä¸­çš„è®¿é—®é€Ÿåº¦ä¹Ÿå¾ˆå¿«</li>
<li>å¹¶ä¸” <code>JSDelivr</code> èƒ½å¤Ÿé›†æˆ GitHubã€NPMã€WordPress èµ„æºï¼Œåªéœ€è¦é€šè¿‡ç¬¦åˆ JSDelivr è§„åˆ™çš„ URL å¼•ç”¨ï¼Œå³å¯ç›´æ¥ä½¿ç”¨ä»–ä»¬ä¸­èµ„æºã€‚</li>
</ul>
<h4 id="è·å–ç›´é“¾"><a href="#è·å–ç›´é“¾" class="headerlink" title="è·å–ç›´é“¾"></a>è·å–ç›´é“¾</h4><h6 id="æ‰¾åˆ°åˆšæ‰ä¸Šä¼ å›¾ç‰‡çš„é“¾æ¥"><a href="#æ‰¾åˆ°åˆšæ‰ä¸Šä¼ å›¾ç‰‡çš„é“¾æ¥" class="headerlink" title="æ‰¾åˆ°åˆšæ‰ä¸Šä¼ å›¾ç‰‡çš„é“¾æ¥"></a>æ‰¾åˆ°åˆšæ‰ä¸Šä¼ å›¾ç‰‡çš„é“¾æ¥</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;barryzpc&#x2F;pic-repo&#x2F;blob&#x2F;master&#x2F;my-blog&#x2F;img&#x2F;04481283.jpg</span><br></pre></td></tr></table></figure>

<h6 id="ä½†æ˜¯è¿™ä¸ªé“¾æ¥æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç›´æ¥è§å‰é¢çš„éƒ¨åˆ†é“¾æ¥ç›´æ¥æ›¿æ¢æˆ-JSDelivr-çš„é“¾æ¥ï¼Œå°±èƒ½åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®åˆ°å›¾ç‰‡äº†"><a href="#ä½†æ˜¯è¿™ä¸ªé“¾æ¥æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç›´æ¥è§å‰é¢çš„éƒ¨åˆ†é“¾æ¥ç›´æ¥æ›¿æ¢æˆ-JSDelivr-çš„é“¾æ¥ï¼Œå°±èƒ½åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®åˆ°å›¾ç‰‡äº†" class="headerlink" title="ä½†æ˜¯è¿™ä¸ªé“¾æ¥æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç›´æ¥è§å‰é¢çš„éƒ¨åˆ†é“¾æ¥ç›´æ¥æ›¿æ¢æˆ JSDelivr çš„é“¾æ¥ï¼Œå°±èƒ½åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®åˆ°å›¾ç‰‡äº†"></a>ä½†æ˜¯è¿™ä¸ªé“¾æ¥æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç›´æ¥è§å‰é¢çš„éƒ¨åˆ†é“¾æ¥ç›´æ¥æ›¿æ¢æˆ <code>JSDelivr</code> çš„é“¾æ¥ï¼Œå°±èƒ½åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è®¿é—®åˆ°å›¾ç‰‡äº†</h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;barryzpc&#x2F;pic-repo&#x2F;my-blog&#x2F;img&#x2F;04481283.jpg</span><br></pre></td></tr></table></figure>

<h6 id="æ³¨æ„é“¾æ¥æ›¿æ¢çš„è§„åˆ™ï¼Œå¦‚æœ-GitHub-çš„å›¾åºŠé¡¹ç›®è¦-release-å¤šä¸ªç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦åœ¨é“¾æ¥ä¸­åŠ ä¸Šç‰ˆæœ¬å·ï¼Œå…·ä½“è§„åˆ™å¯ä»¥æŸ¥çœ‹-jsDelivr-çš„å®˜ç½‘"><a href="#æ³¨æ„é“¾æ¥æ›¿æ¢çš„è§„åˆ™ï¼Œå¦‚æœ-GitHub-çš„å›¾åºŠé¡¹ç›®è¦-release-å¤šä¸ªç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦åœ¨é“¾æ¥ä¸­åŠ ä¸Šç‰ˆæœ¬å·ï¼Œå…·ä½“è§„åˆ™å¯ä»¥æŸ¥çœ‹-jsDelivr-çš„å®˜ç½‘" class="headerlink" title="æ³¨æ„é“¾æ¥æ›¿æ¢çš„è§„åˆ™ï¼Œå¦‚æœ GitHub çš„å›¾åºŠé¡¹ç›®è¦ release å¤šä¸ªç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦åœ¨é“¾æ¥ä¸­åŠ ä¸Šç‰ˆæœ¬å·ï¼Œå…·ä½“è§„åˆ™å¯ä»¥æŸ¥çœ‹ jsDelivr çš„å®˜ç½‘"></a>æ³¨æ„é“¾æ¥æ›¿æ¢çš„è§„åˆ™ï¼Œå¦‚æœ GitHub çš„å›¾åºŠé¡¹ç›®è¦ release å¤šä¸ªç‰ˆæœ¬ï¼Œé‚£å°±éœ€è¦åœ¨é“¾æ¥ä¸­åŠ ä¸Šç‰ˆæœ¬å·ï¼Œå…·ä½“è§„åˆ™å¯ä»¥æŸ¥çœ‹ <a href="https://www.jsdelivr.com/" title="jsDelivr">jsDelivr</a> çš„å®˜ç½‘</h6><hr>
<h2 id="GitHub-åœ°å€"><a href="#GitHub-åœ°å€" class="headerlink" title="GitHub åœ°å€"></a>GitHub åœ°å€</h2><h4 id="pic-repo"><a href="#pic-repo" class="headerlink" title="pic-repo"></a><strong><a href="https://github.com/barryzpc/pic-repo">pic-repo</a></strong></h4><h2 id="åšå®¢åœ°å€"><a href="#åšå®¢åœ°å€" class="headerlink" title="åšå®¢åœ°å€"></a>åšå®¢åœ°å€</h2><h4 id="http-myblog-zhengpc-com-articles-2020-03-11-1583919217986-html"><a href="#http-myblog-zhengpc-com-articles-2020-03-11-1583919217986-html" class="headerlink" title="http://myblog.zhengpc.com/articles/2020/03/11/1583919217986.html"></a><strong><a href="http://myblog.zhengpc.com/articles/2020/03/11/1583919217986.html">http://myblog.zhengpc.com/articles/2020/03/11/1583919217986.html</a></strong></h4><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>æœ¬æ–‡ä¸­æ‰€æœ‰å›¾ç‰‡å‡ä»¥æ­¤ç§æ–¹å¼å­˜æ”¾ã€‚å¯è¿›å…¥githubä¸­æŸ¥çœ‹</p>
]]></content>
      <tags>
        <tag>github</tag>
        <tag>JSDelivr</tag>
      </tags>
  </entry>
  <entry>
    <title>Yii æ ¹æ®å…¬å¸idæ¥äº§å“åˆ†è¡¨ï¼Œä»¥åŠè¯»å–äº§å“è¡¨æ—¶çš„ä¸€äº›æ“ä½œ</title>
    <url>//articles/2020/03/03/1583207015907.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180314.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><h6 id="ç”±äºä¸šåŠ¡éœ€æ±‚è¦å­˜å‚¨å¾ˆå¤šå®¶çš„å…¬å¸ä»¥åŠå…¬å¸çš„äº§å“è¯¦æƒ…ï¼Œé‚£æˆ‘å°±æƒ³ç€æ ¹æ®å…¬å¸çš„-id-æ¥å»ºç«‹ä¸€ä¸€å¯¹åº”çš„äº§å“è¯¦æƒ…è¡¨ã€‚è¿™æ ·ä¾¿äºç®¡ç†ï¼Œä¹Ÿåˆ†æ‘Šäº†åªæœ‰ä¸€å¼ äº§å“è¡¨çš„æŸ¥è¯¢å‹åŠ›ï¼Œä¹Ÿä¼šä¼˜åŒ–æŸ¥è¯¢çš„é€Ÿåº¦ã€‚"><a href="#ç”±äºä¸šåŠ¡éœ€æ±‚è¦å­˜å‚¨å¾ˆå¤šå®¶çš„å…¬å¸ä»¥åŠå…¬å¸çš„äº§å“è¯¦æƒ…ï¼Œé‚£æˆ‘å°±æƒ³ç€æ ¹æ®å…¬å¸çš„-id-æ¥å»ºç«‹ä¸€ä¸€å¯¹åº”çš„äº§å“è¯¦æƒ…è¡¨ã€‚è¿™æ ·ä¾¿äºç®¡ç†ï¼Œä¹Ÿåˆ†æ‘Šäº†åªæœ‰ä¸€å¼ äº§å“è¡¨çš„æŸ¥è¯¢å‹åŠ›ï¼Œä¹Ÿä¼šä¼˜åŒ–æŸ¥è¯¢çš„é€Ÿåº¦ã€‚" class="headerlink" title="ç”±äºä¸šåŠ¡éœ€æ±‚è¦å­˜å‚¨å¾ˆå¤šå®¶çš„å…¬å¸ä»¥åŠå…¬å¸çš„äº§å“è¯¦æƒ…ï¼Œé‚£æˆ‘å°±æƒ³ç€æ ¹æ®å…¬å¸çš„ id æ¥å»ºç«‹ä¸€ä¸€å¯¹åº”çš„äº§å“è¯¦æƒ…è¡¨ã€‚è¿™æ ·ä¾¿äºç®¡ç†ï¼Œä¹Ÿåˆ†æ‘Šäº†åªæœ‰ä¸€å¼ äº§å“è¡¨çš„æŸ¥è¯¢å‹åŠ›ï¼Œä¹Ÿä¼šä¼˜åŒ–æŸ¥è¯¢çš„é€Ÿåº¦ã€‚"></a>ç”±äºä¸šåŠ¡éœ€æ±‚è¦å­˜å‚¨å¾ˆå¤šå®¶çš„å…¬å¸ä»¥åŠå…¬å¸çš„äº§å“è¯¦æƒ…ï¼Œé‚£æˆ‘å°±æƒ³ç€æ ¹æ®å…¬å¸çš„ id æ¥å»ºç«‹ä¸€ä¸€å¯¹åº”çš„äº§å“è¯¦æƒ…è¡¨ã€‚è¿™æ ·ä¾¿äºç®¡ç†ï¼Œä¹Ÿåˆ†æ‘Šäº†åªæœ‰ä¸€å¼ äº§å“è¡¨çš„æŸ¥è¯¢å‹åŠ›ï¼Œä¹Ÿä¼šä¼˜åŒ–æŸ¥è¯¢çš„é€Ÿåº¦ã€‚</h6><h6 id="å½“ç„¶å¦‚æœä¸€ä¸ªå…¬å¸çš„äº§å“è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆä¹Ÿè¦å¯¹äºè¯¥å…¬å¸å¯¹åº”çš„äº§å“è¡¨è¿›è¡Œåˆ†è¡¨ã€‚è¿™æ—¶åˆ†è¡¨çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥é‡‡å–å¯¹äº§å“-id-å–ä½™çš„æ–¹å¼å­˜å‚¨ã€è¯»å–ã€‚è¿™ä¸ªæ–¹å¼åœ¨è¿™ç¯‡ç¬”è®°é‡Œå°±ä¸è¯¦ç»†è¯´æ˜äº†ã€‚"><a href="#å½“ç„¶å¦‚æœä¸€ä¸ªå…¬å¸çš„äº§å“è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆä¹Ÿè¦å¯¹äºè¯¥å…¬å¸å¯¹åº”çš„äº§å“è¡¨è¿›è¡Œåˆ†è¡¨ã€‚è¿™æ—¶åˆ†è¡¨çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥é‡‡å–å¯¹äº§å“-id-å–ä½™çš„æ–¹å¼å­˜å‚¨ã€è¯»å–ã€‚è¿™ä¸ªæ–¹å¼åœ¨è¿™ç¯‡ç¬”è®°é‡Œå°±ä¸è¯¦ç»†è¯´æ˜äº†ã€‚" class="headerlink" title="å½“ç„¶å¦‚æœä¸€ä¸ªå…¬å¸çš„äº§å“è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆä¹Ÿè¦å¯¹äºè¯¥å…¬å¸å¯¹åº”çš„äº§å“è¡¨è¿›è¡Œåˆ†è¡¨ã€‚è¿™æ—¶åˆ†è¡¨çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥é‡‡å–å¯¹äº§å“ id å–ä½™çš„æ–¹å¼å­˜å‚¨ã€è¯»å–ã€‚è¿™ä¸ªæ–¹å¼åœ¨è¿™ç¯‡ç¬”è®°é‡Œå°±ä¸è¯¦ç»†è¯´æ˜äº†ã€‚"></a>å½“ç„¶å¦‚æœä¸€ä¸ªå…¬å¸çš„äº§å“è¶³å¤Ÿå¤šï¼Œé‚£ä¹ˆä¹Ÿè¦å¯¹äºè¯¥å…¬å¸å¯¹åº”çš„äº§å“è¡¨è¿›è¡Œåˆ†è¡¨ã€‚è¿™æ—¶åˆ†è¡¨çš„æ ¸å¿ƒæ€æƒ³å¯ä»¥é‡‡å–å¯¹äº§å“ id å–ä½™çš„æ–¹å¼å­˜å‚¨ã€è¯»å–ã€‚è¿™ä¸ªæ–¹å¼åœ¨è¿™ç¯‡ç¬”è®°é‡Œå°±ä¸è¯¦ç»†è¯´æ˜äº†ã€‚</h6><h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><p> <code>PHP</code> <code>Yii</code> <code>MySql</code> </p>
<h2 id="å¦‚ä½•åˆ›å»ºäº§å“è¡¨"><a href="#å¦‚ä½•åˆ›å»ºäº§å“è¡¨" class="headerlink" title="å¦‚ä½•åˆ›å»ºäº§å“è¡¨"></a>å¦‚ä½•åˆ›å»ºäº§å“è¡¨</h2><h4 id="åœ¨æ·»åŠ ä¸€ä¸ªå…¬å¸çš„ä¿¡æ¯æ—¶è‡ªåŠ¨åˆ›å»ºå…¬å¸å¯¹åº”çš„äº§å“è¡¨"><a href="#åœ¨æ·»åŠ ä¸€ä¸ªå…¬å¸çš„ä¿¡æ¯æ—¶è‡ªåŠ¨åˆ›å»ºå…¬å¸å¯¹åº”çš„äº§å“è¡¨" class="headerlink" title="åœ¨æ·»åŠ ä¸€ä¸ªå…¬å¸çš„ä¿¡æ¯æ—¶è‡ªåŠ¨åˆ›å»ºå…¬å¸å¯¹åº”çš„äº§å“è¡¨"></a>åœ¨æ·»åŠ ä¸€ä¸ªå…¬å¸çš„ä¿¡æ¯æ—¶è‡ªåŠ¨åˆ›å»ºå…¬å¸å¯¹åº”çš„äº§å“è¡¨</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–°å¢ä¸€ä¸ªå…¬å¸ä¿¡æ¯ï¼Œè¿”å›å…¬å¸id</span></span><br><span class="line">$companyId= <span class="keyword">$this</span>-&gt;CompanyModel()-&gt;add($data);</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">false</span> !== $companyId) &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºå…¬å¸å¯¹åº”çš„äº§å“è¡¨</span></span><br><span class="line">    ProductTable::create($companyId);</span><br><span class="line">    Tools::sendJson(<span class="number">0</span>, <span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>, \Yii::$app-&gt;urlManager-&gt;createUrl([<span class="string">&#x27;company/lists&#x27;</span>]));</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    Tools::sendJson(<span class="number">40000205</span>, <span class="string">&quot;æ·»åŠ å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ProductTable-create-companyId-æ–¹æ³•çš„å®ç°"><a href="#ProductTable-create-companyId-æ–¹æ³•çš„å®ç°" class="headerlink" title="ProductTable::create($companyId) æ–¹æ³•çš„å®ç°"></a>ProductTable::create($companyId) æ–¹æ³•çš„å®ç°</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductTable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">$companyId</span>)</span>&#123;</span><br><span class="line">        $tableName = <span class="string">&#x27;test_product_&#x27;</span>.$companyId;</span><br><span class="line">        $sql = &lt;&lt;&lt;EOT</span><br><span class="line">CREATE TABLE <span class="keyword">if</span> not exists `$tableName` (</span><br><span class="line">  `id` <span class="keyword">int</span>(<span class="number">11</span>) unsigned NOT <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `cid` <span class="keyword">int</span>(<span class="number">11</span>) unsigned NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;å…¬å¸id&#x27;</span>,</span><br><span class="line">  `name` varchar(<span class="number">30</span>) NOT <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;äº§å“åç§°&#x27;</span>,</span><br><span class="line">  `barcode` varchar(<span class="number">30</span>) NOT <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;æ¡ç &#x27;</span>,</span><br><span class="line">  `image` varchar(<span class="number">225</span>) NOT <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">&#x27;&#x27;</span> COMMENT <span class="string">&#x27;äº§å“å›¾ç‰‡&#x27;</span>,</span><br><span class="line">  `company_classify_id` <span class="keyword">int</span>(<span class="number">11</span>) unsigned NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;å…¬å¸åˆ†ç±»id&#x27;</span>,</span><br><span class="line">  `size` varchar(<span class="number">20</span>) NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;è§„æ ¼&#x27;</span>,</span><br><span class="line">  `expire_date` date NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;ä¿è´¨æœŸ&#x27;</span>,</span><br><span class="line">  `production_date` datetime NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;ç”Ÿäº§æ—¥æœŸ&#x27;</span>,</span><br><span class="line">  `batch_num` varchar(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> COMMENT <span class="string">&#x27;ç”Ÿäº§æ‰¹æ¬¡&#x27;</span>,</span><br><span class="line">  `status` tinyint(<span class="number">2</span>) unsigned NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;çŠ¶æ€ï¼š0ï¼Œåœç”¨ï¼›1ï¼Œå¯ç”¨&#x27;</span>,</span><br><span class="line">  `classify_id` <span class="keyword">int</span>(<span class="number">11</span>) unsigned NOT <span class="literal">NULL</span> COMMENT <span class="string">&#x27;ç³»ç»Ÿåˆ†ç±»id&#x27;</span>,</span><br><span class="line">  `create_time` datetime <span class="keyword">DEFAULT</span> CURRENT_TIMESTAMP COMMENT <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">  `update_time` datetime <span class="keyword">DEFAULT</span> CURRENT_TIMESTAMP COMMENT <span class="string">&#x27;æ›´æ–°æ—¶é—´&#x27;</span>,</span><br><span class="line">  `created_id` <span class="keyword">int</span>(<span class="number">11</span>) unsigned <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> COMMENT <span class="string">&#x27;åˆ›å»ºè€…id&#x27;</span>,</span><br><span class="line">  `updated_id` <span class="keyword">int</span>(<span class="number">11</span>) unsigned <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> COMMENT <span class="string">&#x27;æ›´æ–°è€…id&#x27;</span>,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=<span class="number">1</span> <span class="keyword">DEFAULT</span> CHARSET=utf8mb4 COMMENT=<span class="string">&#x27;å…¬å¸äº§å“ä¿¡æ¯è¡¨&#x27;</span>;</span><br><span class="line">EOT;</span><br><span class="line"></span><br><span class="line">        $connection = Yii::$app-&gt;db;</span><br><span class="line">        $command = $connection-&gt;createCommand($sql);</span><br><span class="line">        $rowCount = $command-&gt;execute();</span><br><span class="line">        <span class="keyword">return</span> $rowCount;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¦‚ä½•è°ƒç”¨äº§å“è¡¨ï¼Œå°†äº§å“å­˜å…¥å¯¹åº”å…¬å¸çš„äº§å“è¡¨"><a href="#å¦‚ä½•è°ƒç”¨äº§å“è¡¨ï¼Œå°†äº§å“å­˜å…¥å¯¹åº”å…¬å¸çš„äº§å“è¡¨" class="headerlink" title="å¦‚ä½•è°ƒç”¨äº§å“è¡¨ï¼Œå°†äº§å“å­˜å…¥å¯¹åº”å…¬å¸çš„äº§å“è¡¨"></a>å¦‚ä½•è°ƒç”¨äº§å“è¡¨ï¼Œå°†äº§å“å­˜å…¥å¯¹åº”å…¬å¸çš„äº§å“è¡¨</h2><h4 id="å½“æ·»åŠ äº§å“ä¿¡æ¯æ—¶"><a href="#å½“æ·»åŠ äº§å“ä¿¡æ¯æ—¶" class="headerlink" title="å½“æ·»åŠ äº§å“ä¿¡æ¯æ—¶"></a>å½“æ·»åŠ äº§å“ä¿¡æ¯æ—¶</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$data = <span class="keyword">array</span>(</span><br><span class="line">            <span class="string">&#x27;cid&#x27;</span> =&gt; $companyId,</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span> =&gt; $name,</span><br><span class="line">            <span class="string">&#x27;barcode&#x27;</span> =&gt; $barcode,</span><br><span class="line">            <span class="string">&#x27;image&#x27;</span> =&gt; $res[<span class="string">&#x27;url&#x27;</span>],</span><br><span class="line">            <span class="string">&#x27;company_classify_id&#x27;</span> =&gt; $company_classify_id,</span><br><span class="line">            <span class="string">&#x27;classify_id&#x27;</span> =&gt; $classify_id,</span><br><span class="line">            <span class="string">&#x27;size&#x27;</span> =&gt; $size,</span><br><span class="line">            <span class="string">&#x27;expire_date&#x27;</span> =&gt; $expire_date,</span><br><span class="line">            <span class="string">&#x27;production_date&#x27;</span> =&gt; $production_date,</span><br><span class="line">            <span class="string">&#x27;created_id&#x27;</span> =&gt; Yii::$app-&gt;user-&gt;id,</span><br><span class="line">            <span class="string">&#x27;status&#x27;</span> =&gt; $status,</span><br><span class="line">        );</span><br><span class="line">$result = <span class="keyword">$this</span>-&gt;ProductModel($companyId)-&gt;add($data);</span><br></pre></td></tr></table></figure>

<h4 id="ProductModel-companyId-çš„å®ç°"><a href="#ProductModel-companyId-çš„å®ç°" class="headerlink" title="ProductModel($companyId)çš„å®ç°"></a>ProductModel($companyId)çš„å®ç°</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">ProductModel</span>(<span class="params">$companyId</span>)</span>&#123;</span><br><span class="line">       ProductModel::resetPartitionIndex($companyId);</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> ProductModel();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="ProductModel-resetPartitionIndex-cid-çš„å®ç°ä»¥åŠæ•°æ®è¡¨çš„æ“ä½œ"><a href="#ProductModel-resetPartitionIndex-cid-çš„å®ç°ä»¥åŠæ•°æ®è¡¨çš„æ“ä½œ" class="headerlink" title="ProductModel::resetPartitionIndex($cid)çš„å®ç°ä»¥åŠæ•°æ®è¡¨çš„æ“ä½œ"></a>ProductModel::resetPartitionIndex($cid)çš„å®ç°ä»¥åŠæ•°æ®è¡¨çš„æ“ä½œ</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * This is the model class for table &quot;&#123;&#123;%test_product&#125;&#125;&quot;.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductModel</span> <span class="keyword">extends</span> \<span class="title">common</span>\<span class="title">PopToolActiveRecord</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">private</span> $partitionIndex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆå§‹åŒ– partitionIndex</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> $companyId</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">resetPartitionIndex</span>(<span class="params">$companyId</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">self</span>::$partitionIndex = <span class="string">&#x27;_&#x27;</span>.$companyId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°†è¡¨åæ‹¼æ¥ä¸Šå…¬å¸id</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@inheritdoc</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">tableName</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#123;&#123;test_product&#x27;</span>.<span class="built_in">self</span>::$partitionIndex.<span class="string">&#x27;&#125;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ </span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">$data = []</span>) </span>&#123;</span><br><span class="line">        $mix_result = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">true</span> == <span class="keyword">empty</span>($data)) &#123;</span><br><span class="line">            <span class="keyword">return</span> $mix_result;</span><br><span class="line">        &#125;</span><br><span class="line">        PopToolActiveRecord::beginTransaction();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            $result = <span class="keyword">$this</span>-&gt;setData($data)-&gt;insert();</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">false</span> == $result) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> \<span class="built_in">Exception</span>(<span class="string">&quot;æ·»åŠ ä¿¡æ¯å¤±è´¥ï¼Œè¯·é‡è¯•&quot;</span>, <span class="number">1004001</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            $int_adves_id = (<span class="keyword">int</span>)<span class="keyword">$this</span>-&gt;id;</span><br><span class="line"></span><br><span class="line">            PopToolActiveRecord::commit();</span><br><span class="line">            $mix_result = $int_adves_id;</span><br><span class="line">        &#125; <span class="keyword">catch</span>(\<span class="built_in">Exception</span> $e) &#123;</span><br><span class="line">            PopToolActiveRecord::rollback();</span><br><span class="line">            $mix_result = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $mix_result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">/*ä¸‹é¢æ˜¯å…·ä½“å¯¹tableNameè¿›è¡Œå¢åˆ æ”¹æŸ¥çš„å‡½æ•°å®ç°å°±ä¸ä¸€ä¸€åˆ—å‡ºäº†*/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>psï¼šä»¥å‰çš„å†™ä¸šåŠ¡æ—¶é‡åˆ°çš„é—®é¢˜ä»¥åŠå¤„ç†æ–¹æ¡ˆï¼Œæ‹¿å‡ºæ¥åšä¸€ä¸‹ç¬”è®°ã€‚</li>
</ul>
]]></content>
      <tags>
        <tag>mysql</tag>
        <tag>PHP</tag>
        <tag>Yii</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPéå†åˆ é™¤æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶</title>
    <url>//articles/2019/12/30/1577691418354.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20190108.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h2 id="åœºæ™¯æè¿°ï¼š"><a href="#åœºæ™¯æè¿°ï¼š" class="headerlink" title="åœºæ™¯æè¿°ï¼š"></a>åœºæ™¯æè¿°ï¼š</h2><h4 id="éå†å»æ¸…ç©ºä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶"><a href="#éå†å»æ¸…ç©ºä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶" class="headerlink" title="éå†å»æ¸…ç©ºä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶"></a>éå†å»æ¸…ç©ºä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹ä»¥åŠæ–‡ä»¶</h4><h2 id="ä»£ç ç¤ºä¾‹ï¼š"><a href="#ä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="ä»£ç ç¤ºä¾‹ï¼š"></a>ä»£ç ç¤ºä¾‹ï¼š</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="built_in">static</span> <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">delDir</span>(<span class="params">$path</span>)</span>&#123;</span><br><span class="line">        error_reporting(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœæ˜¯ç›®å½•åˆ™ç»§ç»­</span></span><br><span class="line">        <span class="keyword">if</span>(is_dir($path))&#123;</span><br><span class="line">            <span class="comment">//æ‰«æä¸€ä¸ªæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶å¹¶è¿”å›æ•°ç»„</span></span><br><span class="line">            $p = scandir($path);</span><br><span class="line">            <span class="keyword">foreach</span>($p <span class="keyword">as</span> $val)&#123;</span><br><span class="line">                <span class="comment">//æ’é™¤ç›®å½•ä¸­çš„.å’Œ..</span></span><br><span class="line">                <span class="keyword">if</span>($val !=<span class="string">&quot;.&quot;</span> &amp;&amp; $val !=<span class="string">&quot;..&quot;</span>)&#123;</span><br><span class="line">                    <span class="comment">//å¦‚æœæ˜¯ç›®å½•åˆ™é€’å½’å­ç›®å½•ï¼Œç»§ç»­æ“ä½œ</span></span><br><span class="line">                    <span class="keyword">if</span>(is_dir($path.$val))&#123;</span><br><span class="line">                        <span class="comment">//å­ç›®å½•ä¸­æ“ä½œåˆ é™¤æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</span></span><br><span class="line">                        <span class="built_in">self</span>::deldir($path.$val.<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">                        <span class="comment">//ç›®å½•æ¸…ç©ºååˆ é™¤ç©ºæ–‡ä»¶å¤¹</span></span><br><span class="line">                        @rmdir($path.$val.<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="comment">//å¦‚æœæ˜¯æ–‡ä»¶ç›´æ¥åˆ é™¤</span></span><br><span class="line">                        @unlink($path.$val);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            @rmdir($path);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


]]></content>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•éšè—HTTPå“åº”å¤´é‡Œçš„serverå’ŒX-Powered-By</title>
    <url>//articles/2019/11/21/1574332517065.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180107.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="åœºæ™¯æè¿°"><a href="#åœºæ™¯æè¿°" class="headerlink" title="åœºæ™¯æè¿°"></a>åœºæ™¯æè¿°</h2><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œéœ€è¦éšè—æˆ‘ä»¬ç¯å¢ƒçš„ä¸€äº›ç‰ˆæœ¬å·ï¼Œå¦‚ï¼šserverã€X-Powered-By</p>
<h2 id="æœªéšè—æ—¶httpå“åº”å¤´ä¸­åŒ…å«äº†å¦‚ä¸‹ä¿¡æ¯"><a href="#æœªéšè—æ—¶httpå“åº”å¤´ä¸­åŒ…å«äº†å¦‚ä¸‹ä¿¡æ¯" class="headerlink" title="æœªéšè—æ—¶httpå“åº”å¤´ä¸­åŒ…å«äº†å¦‚ä¸‹ä¿¡æ¯"></a>æœªéšè—æ—¶httpå“åº”å¤´ä¸­åŒ…å«äº†å¦‚ä¸‹ä¿¡æ¯</h2><p><img src="https://img.hacpai.com/file/2019/11/image-0226a7ee.png" alt="image.png"></p>
<h2 id="apache-éšè—-server"><a href="#apache-éšè—-server" class="headerlink" title="apache éšè— server"></a>apache éšè— server</h2><p>ä¿®æ”¹httpd.conf è®¾ç½® </p>
<pre><code>ServerSignature Off
ServerTokens Prod</code></pre>
<h2 id="nginx-éšè—-server"><a href="#nginx-éšè—-server" class="headerlink" title="nginx éšè— server"></a>nginx éšè— server</h2><p>ä¿®æ”¹nginx.conf  åœ¨httpé‡Œé¢è®¾ç½® </p>
<pre><code>server_tokens off;</code></pre>
<h2 id="éšè—X-Powered-By"><a href="#éšè—X-Powered-By" class="headerlink" title="éšè—X-Powered-By"></a>éšè—X-Powered-By</h2><p>ä¿®æ”¹ php.ini æ–‡ä»¶ è®¾ç½® </p>
<pre><code>expose_php = Off</code></pre>
<h2 id="éšè—ä¹‹åæ˜¾ç¤º"><a href="#éšè—ä¹‹åæ˜¾ç¤º" class="headerlink" title="éšè—ä¹‹åæ˜¾ç¤º"></a>éšè—ä¹‹åæ˜¾ç¤º</h2><p><img src="https://img.hacpai.com/file/2019/11/image-04c2fd90.png" alt="image.png"></p>
]]></content>
      <tags>
        <tag>PHP</tag>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title>Tmux: linuxä¸‹çš„åˆ†å±ç¥å™¨</title>
    <url>//articles/2019/11/08/1573185041865.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20181103.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h2 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h2><h4 id="tmuxï¼ˆterminal-multiplexerï¼‰æ˜¯Linuxä¸Šçš„ç»ˆç«¯çª—å£çš„åˆ†å±ç¥å™¨ã€‚åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­å¯ä»¥åˆ†å¤šä¸ªå±åŒæ—¶ä½¿ç”¨ã€‚"><a href="#tmuxï¼ˆterminal-multiplexerï¼‰æ˜¯Linuxä¸Šçš„ç»ˆç«¯çª—å£çš„åˆ†å±ç¥å™¨ã€‚åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­å¯ä»¥åˆ†å¤šä¸ªå±åŒæ—¶ä½¿ç”¨ã€‚" class="headerlink" title="tmuxï¼ˆterminal multiplexerï¼‰æ˜¯Linuxä¸Šçš„ç»ˆç«¯çª—å£çš„åˆ†å±ç¥å™¨ã€‚åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­å¯ä»¥åˆ†å¤šä¸ªå±åŒæ—¶ä½¿ç”¨ã€‚"></a>tmuxï¼ˆterminal multiplexerï¼‰æ˜¯Linuxä¸Šçš„ç»ˆç«¯çª—å£çš„åˆ†å±ç¥å™¨ã€‚åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­å¯ä»¥åˆ†å¤šä¸ªå±åŒæ—¶ä½¿ç”¨ã€‚</h4><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h4 id="Tmux-çš„å®‰è£…ã€‚"><a href="#Tmux-çš„å®‰è£…ã€‚" class="headerlink" title="Tmux çš„å®‰è£…ã€‚"></a>Tmux çš„å®‰è£…ã€‚</h4><pre><code># Ubuntu
$ sudo apt-get install tmux

# CentOS
$ sudo yum install tmux

# Mac
$ brew install tmux</code></pre>
<h2 id="å¯åŠ¨ä¸é€€å‡º"><a href="#å¯åŠ¨ä¸é€€å‡º" class="headerlink" title="å¯åŠ¨ä¸é€€å‡º"></a>å¯åŠ¨ä¸é€€å‡º</h2><h4 id="å®‰è£…å®Œæˆåï¼Œé”®å…¥tmuxå‘½ä»¤ï¼Œå°±è¿›å…¥äº†-Tmux-çª—å£ã€‚"><a href="#å®‰è£…å®Œæˆåï¼Œé”®å…¥tmuxå‘½ä»¤ï¼Œå°±è¿›å…¥äº†-Tmux-çª—å£ã€‚" class="headerlink" title="å®‰è£…å®Œæˆåï¼Œé”®å…¥tmuxå‘½ä»¤ï¼Œå°±è¿›å…¥äº† Tmux çª—å£ã€‚"></a>å®‰è£…å®Œæˆåï¼Œé”®å…¥<code>tmux</code>å‘½ä»¤ï¼Œå°±è¿›å…¥äº† Tmux çª—å£ã€‚</h4><pre><code>$ tmux</code></pre>
<h4 id="æŒ‰ä¸‹Ctrl-dæˆ–è€…æ˜¾å¼è¾“å…¥exitå‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º-Tmux-çª—å£ã€‚"><a href="#æŒ‰ä¸‹Ctrl-dæˆ–è€…æ˜¾å¼è¾“å…¥exitå‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º-Tmux-çª—å£ã€‚" class="headerlink" title="æŒ‰ä¸‹Ctrl+dæˆ–è€…æ˜¾å¼è¾“å…¥exitå‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º Tmux çª—å£ã€‚"></a>æŒ‰ä¸‹<code>Ctrl+d</code>æˆ–è€…æ˜¾å¼è¾“å…¥<code>exit</code>å‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º Tmux çª—å£ã€‚</h4><pre><code>$ exit</code></pre>
<h2 id="tmuxçš„åŸºç¡€æ“ä½œ"><a href="#tmuxçš„åŸºç¡€æ“ä½œ" class="headerlink" title="tmuxçš„åŸºç¡€æ“ä½œ"></a>tmuxçš„åŸºç¡€æ“ä½œ</h2><h4 id="åŸºæœ¬çš„æ“ä½œæ— éå°±æ˜¯å¯¹ä¼šè¯ã€çª—å£ã€çª—æ ¼è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€å…³é—­ã€é‡å‘½åã€è¿æ¥ã€åˆ†ç¦»ã€é€‰æ‹©ç­‰ç­‰ã€‚"><a href="#åŸºæœ¬çš„æ“ä½œæ— éå°±æ˜¯å¯¹ä¼šè¯ã€çª—å£ã€çª—æ ¼è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€å…³é—­ã€é‡å‘½åã€è¿æ¥ã€åˆ†ç¦»ã€é€‰æ‹©ç­‰ç­‰ã€‚" class="headerlink" title="åŸºæœ¬çš„æ“ä½œæ— éå°±æ˜¯å¯¹ä¼šè¯ã€çª—å£ã€çª—æ ¼è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€å…³é—­ã€é‡å‘½åã€è¿æ¥ã€åˆ†ç¦»ã€é€‰æ‹©ç­‰ç­‰ã€‚"></a>åŸºæœ¬çš„æ“ä½œæ— éå°±æ˜¯å¯¹ä¼šè¯ã€çª—å£ã€çª—æ ¼è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºã€å…³é—­ã€é‡å‘½åã€è¿æ¥ã€åˆ†ç¦»ã€é€‰æ‹©ç­‰ç­‰ã€‚</h4><p>ä¸€èˆ¬ä½¿ç”¨å‘½ä»¤å’Œå¿«æ·é”®è¿›è¡Œæ“ä½œï¼Œå¯åœ¨ç³»ç»Ÿshellç»ˆç«¯å’Œtmuxå‘½ä»¤æ¨¡å¼ï¼ˆç±»ä¼¼vimçš„å‘½ä»¤æ¨¡å¼ï¼‰ä¸‹ä½¿ç”¨å‘½ä»¤ï¼Œæˆ–è€…åœ¨tmuxç»ˆç«¯ä½¿ç”¨å¿«æ·é”®ã€‚<br>tmuxé»˜è®¤çš„å¿«æ·é”®å‰ç¼€æ˜¯<strong>Ctrl+b</strong>(ä¸‹æ–‡ç”¨<strong>prefix</strong>æŒ‡ä»£)ï¼ŒæŒ‰ä¸‹å‰ç¼€ç»„åˆé”®åæ¾å¼€ï¼Œå†æŒ‰ä¸‹å‘½ä»¤é”®è¿›è¡Œå¿«æ·æ“ä½œï¼Œæ¯”å¦‚ä½¿ç”¨<strong>prefix d</strong>åˆ†ç¦»ä¼šè¯ï¼ˆåº”è¯¥å†™ä½œ<strong>prefix d</strong>è€Œä¸æ˜¯<strong>prefix+dï¼Œ</strong>å› ä¸º<strong>d</strong>é”®ä¸éœ€è¦ä¸<strong>prefix</strong>åŒæ—¶æŒ‰ä¸‹ï¼‰ã€‚</p>
<h2 id="ä¼šè¯ç®¡ç†"><a href="#ä¼šè¯ç®¡ç†" class="headerlink" title="ä¼šè¯ç®¡ç†ã€€"></a>ä¼šè¯ç®¡ç†ã€€</h2><h4 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h4><p><code>tmux new</code>ã€€ã€€åˆ›å»ºé»˜è®¤åç§°çš„ä¼šè¯ï¼ˆåœ¨tmuxå‘½ä»¤æ¨¡å¼ä½¿ç”¨<strong>new</strong>å‘½ä»¤å¯å®ç°åŒæ ·çš„åŠŸèƒ½ï¼Œå…¶ä»–å‘½ä»¤åŒç†ï¼Œåæ–‡ä¸å†åˆ—å‡ºtmuxç»ˆç«¯å‘½ä»¤ï¼‰</p>
<p><code>tmux new -s mytest</code>ã€€ã€€åˆ›å»ºåä¸ºmytestçš„ä¼šè¯</p>
<p><code>tmux ls</code>ã€€ã€€æ˜¾ç¤ºä¼šè¯åˆ—è¡¨</p>
<p><code>tmux a</code>ã€€ã€€è¿æ¥ä¸Šä¸€ä¸ªä¼šè¯</p>
<p><code>tmux a -t mytest</code>ã€€ã€€è¿æ¥æŒ‡å®šä¼šè¯</p>
<p><code>tmux rename -t s1 s2</code>    é‡å‘½åä¼šè¯s1ä¸ºs2</p>
<p><code>tmux kill-session</code>ã€€ã€€å…³é—­ä¸Šæ¬¡æ‰“å¼€çš„ä¼šè¯</p>
<p><code>tmux kill-session -t s1</code>ã€€ã€€å…³é—­ä¼šè¯s1</p>
<p><code>tmux kill-session -a -t s1</code>ã€€ã€€å…³é—­é™¤s1å¤–çš„æ‰€æœ‰ä¼šè¯</p>
<p><code>tmux kill-server</code>ã€€ã€€å…³é—­æ‰€æœ‰ä¼šè¯</p>
<h4 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h4><p><code>prefix s</code>ã€€ã€€åˆ—å‡ºä¼šè¯ï¼Œå¯è¿›è¡Œåˆ‡æ¢</p>
<p><code>prefix $</code>ã€€ã€€é‡å‘½åä¼šè¯</p>
<p><code>prefix d</code>ã€€ã€€åˆ†ç¦»å½“å‰ä¼šè¯</p>
<p><code>prefix D</code>ã€€ã€€åˆ†ç¦»æŒ‡å®šä¼šè¯</p>
<h4 id="çª—å£ç®¡ç†"><a href="#çª—å£ç®¡ç†" class="headerlink" title="çª—å£ç®¡ç†"></a>çª—å£ç®¡ç†</h4><p><code>prefix c</code>ã€€ã€€åˆ›å»ºä¸€ä¸ªæ–°çª—å£</p>
<p><code>prefix ,</code>ã€€ã€€é‡å‘½åå½“å‰çª—å£</p>
<p><code>prefix w</code>ã€€ã€€åˆ—å‡ºæ‰€æœ‰çª—å£ï¼Œå¯è¿›è¡Œåˆ‡æ¢</p>
<p><code>prefix n</code>ã€€ã€€è¿›å…¥ä¸‹ä¸€ä¸ªçª—å£</p>
<p><code>prefix p</code>ã€€ã€€è¿›å…¥ä¸Šä¸€ä¸ªçª—å£</p>
<p><code>prefix l</code>ã€€ã€€è¿›å…¥ä¹‹å‰æ“ä½œçš„çª—å£</p>
<p><code>prefix 0~9</code>ã€€ã€€é€‰æ‹©ç¼–å·0~9å¯¹åº”çš„çª—å£</p>
<p><code>prefix .</code>ã€€ã€€ä¿®æ”¹å½“å‰çª—å£ç´¢å¼•ç¼–å·</p>
<p><code>prefix &#39;</code>ã€€ã€€åˆ‡æ¢è‡³æŒ‡å®šç¼–å·ï¼ˆå¯å¤§äº9ï¼‰çš„çª—å£</p>
<p><code>prefix f</code>ã€€ã€€æ ¹æ®æ˜¾ç¤ºçš„å†…å®¹æœç´¢çª—æ ¼</p>
<p><code>prefix &amp;</code>ã€€ã€€å…³é—­å½“å‰çª—å£</p>
<h4 id="çª—æ ¼ç®¡ç†"><a href="#çª—æ ¼ç®¡ç†" class="headerlink" title="çª—æ ¼ç®¡ç†"></a>çª—æ ¼ç®¡ç†</h4><p><code>prefix %</code>ã€€ã€€æ°´å¹³æ–¹å‘åˆ›å»ºçª—æ ¼</p>
<p><code>prefix &quot;</code>ã€€ã€€å‚ç›´æ–¹å‘åˆ›å»ºçª—æ ¼</p>
<p><code>prefix Up|Down|Left|Right</code>ã€€ã€€æ ¹æ®ç®­å¤´æ–¹å‘åˆ‡æ¢çª—æ ¼</p>
<p><code>prefix q</code>ã€€ã€€æ˜¾ç¤ºçª—æ ¼ç¼–å·</p>
<p><code>prefix o</code>ã€€ã€€é¡ºæ—¶é’ˆåˆ‡æ¢çª—æ ¼</p>
<p><code>prefix &#125;</code>ã€€ã€€ä¸ä¸‹ä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®</p>
<p><code>prefix &#123;</code>ã€€ã€€ä¸ä¸Šä¸€ä¸ªçª—æ ¼äº¤æ¢ä½ç½®</p>
<p><code>prefix x</code>ã€€ã€€å…³é—­å½“å‰çª—æ ¼</p>
<p><code>prefix space(ç©ºæ ¼é”®)</code>ã€€ã€€é‡æ–°æ’åˆ—å½“å‰çª—å£ä¸‹çš„æ‰€æœ‰çª—æ ¼</p>
<p><code>prefix !</code>ã€€ã€€å°†å½“å‰çª—æ ¼ç½®äºæ–°çª—å£</p>
<p><code>prefix Ctrl+o</code>ã€€ã€€é€†æ—¶é’ˆæ—‹è½¬å½“å‰çª—å£çš„çª—æ ¼</p>
<p><code>prefix t</code>ã€€ã€€åœ¨å½“å‰çª—æ ¼æ˜¾ç¤ºæ—¶é—´</p>
<p><code>prefix z</code>ã€€ã€€æ”¾å¤§å½“å‰çª—æ ¼(å†æ¬¡æŒ‰ä¸‹å°†è¿˜åŸ)</p>
<p><code>prefix i</code>ã€€ã€€æ˜¾ç¤ºå½“å‰çª—æ ¼ä¿¡æ¯</p>
<h4 id="å…¶ä»–å‘½ä»¤"><a href="#å…¶ä»–å‘½ä»¤" class="headerlink" title="å…¶ä»–å‘½ä»¤"></a>å…¶ä»–å‘½ä»¤</h4><p><code>tmux list-key</code>ã€€ã€€åˆ—å‡ºæ‰€æœ‰ç»‘å®šçš„é”®ï¼Œç­‰åŒäº<strong>prefix ?</strong></p>
<p><code>tmux list-command</code>ã€€ã€€åˆ—å‡ºæ‰€æœ‰å‘½ä»¤</p>
]]></content>
      <tags>
        <tag>linux</tag>
        <tag>tmux</tag>
      </tags>
  </entry>
  <entry>
    <title>nohupä¸è¾“å‡ºæ—¥å¿—æ–‡ä»¶æ–¹æ³•</title>
    <url>//articles/2019/10/31/1572491704006.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20190222.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h2 id="åœºæ™¯æè¿°ï¼š"><a href="#åœºæ™¯æè¿°ï¼š" class="headerlink" title="åœºæ™¯æè¿°ï¼š"></a>åœºæ™¯æè¿°ï¼š</h2><h6 id="ç”¨-nohup-å¯åŠ¨ç¨‹åºæ—¶ï¼Œä¼šåœ¨å½“å‰çš„ç›®å½•ä¸‹ç”Ÿæˆ-nohup-log-æ–‡ä»¶ã€‚è¿™æ ·å°±ä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°†ç£ç›˜å…¨éƒ¨å†™æ»¡ï¼ˆå½“æ—¶çš„ç£ç›˜æ˜¯-100Gï¼Œå…¨éƒ¨å†™æ»¡ï¼‰ï¼Œå¯¼è‡´åˆ«çš„ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œã€‚ï¼ˆå¦‚å¯åŠ¨ï¼šJenkins-ç­‰ï¼‰"><a href="#ç”¨-nohup-å¯åŠ¨ç¨‹åºæ—¶ï¼Œä¼šåœ¨å½“å‰çš„ç›®å½•ä¸‹ç”Ÿæˆ-nohup-log-æ–‡ä»¶ã€‚è¿™æ ·å°±ä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°†ç£ç›˜å…¨éƒ¨å†™æ»¡ï¼ˆå½“æ—¶çš„ç£ç›˜æ˜¯-100Gï¼Œå…¨éƒ¨å†™æ»¡ï¼‰ï¼Œå¯¼è‡´åˆ«çš„ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œã€‚ï¼ˆå¦‚å¯åŠ¨ï¼šJenkins-ç­‰ï¼‰" class="headerlink" title="ç”¨ nohup å¯åŠ¨ç¨‹åºæ—¶ï¼Œä¼šåœ¨å½“å‰çš„ç›®å½•ä¸‹ç”Ÿæˆ nohup.log æ–‡ä»¶ã€‚è¿™æ ·å°±ä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°†ç£ç›˜å…¨éƒ¨å†™æ»¡ï¼ˆå½“æ—¶çš„ç£ç›˜æ˜¯ 100Gï¼Œå…¨éƒ¨å†™æ»¡ï¼‰ï¼Œå¯¼è‡´åˆ«çš„ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œã€‚ï¼ˆå¦‚å¯åŠ¨ï¼šJenkins ç­‰ï¼‰"></a>ç”¨ nohup å¯åŠ¨ç¨‹åºæ—¶ï¼Œä¼šåœ¨å½“å‰çš„ç›®å½•ä¸‹ç”Ÿæˆ nohup.log æ–‡ä»¶ã€‚è¿™æ ·å°±ä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…å°†ç£ç›˜å…¨éƒ¨å†™æ»¡ï¼ˆ<em>å½“æ—¶çš„ç£ç›˜æ˜¯ 100Gï¼Œå…¨éƒ¨å†™æ»¡</em>ï¼‰ï¼Œå¯¼è‡´åˆ«çš„ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œã€‚ï¼ˆ<em>å¦‚å¯åŠ¨ï¼šJenkins ç­‰</em>ï¼‰</h6><h6 id="é‚£ä¹ˆå¦‚ä½•è®©nohupå‘½ä»¤ä¸äº§ç”Ÿå¤§é‡çš„æ—¥å¿—æ–‡ä»¶å‘¢"><a href="#é‚£ä¹ˆå¦‚ä½•è®©nohupå‘½ä»¤ä¸äº§ç”Ÿå¤§é‡çš„æ—¥å¿—æ–‡ä»¶å‘¢" class="headerlink" title="é‚£ä¹ˆå¦‚ä½•è®©nohupå‘½ä»¤ä¸äº§ç”Ÿå¤§é‡çš„æ—¥å¿—æ–‡ä»¶å‘¢"></a>é‚£ä¹ˆå¦‚ä½•è®©nohupå‘½ä»¤ä¸äº§ç”Ÿå¤§é‡çš„æ—¥å¿—æ–‡ä»¶å‘¢</h6><h2 id="è§£å†³æ€è·¯"><a href="#è§£å†³æ€è·¯" class="headerlink" title="è§£å†³æ€è·¯"></a>è§£å†³æ€è·¯</h2><p>æ—¢ç„¶ nohup ä¼šè¾“å‡ºå¤§é‡çš„æ—¥å¿—ã€‚é‚£å¦‚ä½•è®© nohup ä¸è¾“å‡ºæ—¥å¿—å‘¢ï¼Ÿ<br>æŸ¥äº†å¾ˆå¤šçš„èµ„æ–™å‘ç°æ²¡åŠæ³•è®© nohup ä¸è¾“å‡ºæ—¥å¿—ã€‚ä½†æ˜¯å¯ä»¥ åˆ©ç”¨liunxçš„é»‘æ´/dev/nullï¼Œå®ƒå°±åƒä¸€ä¸ªæ— åº•æ´ï¼Œæ‰€æœ‰é‡å®šå‘åˆ°å®ƒçš„ä¿¡æ¯éƒ½ä¼šæ¶ˆå¤±å¾—æ— å½± æ— è¸ªã€‚è¿™ä¸€ç‚¹éå¸¸æœ‰ç”¨ï¼Œå½“æˆ‘ä»¬ä¸éœ€è¦å›æ˜¾ç¨‹åºçš„æ‰€æœ‰ä¿¡æ¯æ—¶ï¼Œå°±å¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ°/dev/nullã€‚</p>
<pre><code>/dev/null</code></pre>
<p><strong>/dev/null</strong>  ï¼š åœ¨ç±»Unixç³»ç»Ÿä¸­ï¼Œ/dev/nullï¼Œæˆ–ç§°ç©ºè®¾å¤‡ï¼Œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ï¼Œå®ƒä¸¢å¼ƒä¸€åˆ‡å†™å…¥å…¶ä¸­çš„æ•°æ®ï¼ˆä½†æŠ¥å‘Šå†™å…¥æ“ä½œæˆåŠŸï¼‰ï¼Œè¯»å–å®ƒåˆ™ä¼šç«‹å³å¾—åˆ°ä¸€ä¸ªEOFã€‚<br>åœ¨ç¨‹åºå‘˜è¡Œè¯ï¼Œå°¤å…¶æ˜¯Unixç³»ç»Ÿä¸­ï¼Œ/dev/null è¢«ç§°ä¸ºä½æ¡¶(bit bucket)æˆ–è€…é»‘æ´(black hole)ã€‚ç©ºè®¾å¤‡é€šå¸¸è¢«ç”¨äºä¸¢å¼ƒä¸éœ€è¦çš„è¾“å‡ºæµï¼Œæˆ–ä½œä¸ºç”¨äºè¾“å…¥æµçš„ç©ºæ–‡ä»¶ã€‚å½“ä½ è¯»å®ƒçš„æ—¶å€™ï¼Œå®ƒä¼šæä¾›æ— é™çš„ç©ºå­—ç¬¦(NULL, ASCII NUL, 0x00)ã€‚</p>
<h2 id="æ“ä½œç¤ºä¾‹"><a href="#æ“ä½œç¤ºä¾‹" class="headerlink" title="æ“ä½œç¤ºä¾‹"></a>æ“ä½œç¤ºä¾‹</h2><pre><code> nohup java -cp WEB-INF/lib/*:WEB-INF/classes org.b3log.solo.Starter &gt;/dev/null 2&gt;&amp;1 &amp;</code></pre>
<ul>
<li><em>&gt;/dev/null</em> å°†ä¿¡æ¯è¾“å‡ºåˆ°/dev/null </li>
<li> <em>2&gt;&amp;1</em> å°†é”™è¯¯ä¿¡æ¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º</li>
<li>æœ€åä¸€ä¸ª&amp;ç¬¦å·ï¼Œè¡¨ç¤ºç¨‹åºåœ¨åå°è¿è¡Œ</li>
</ul>
<h2 id="å…³äºLinuxçš„é‡å®šå‘"><a href="#å…³äºLinuxçš„é‡å®šå‘" class="headerlink" title="å…³äºLinuxçš„é‡å®šå‘"></a>å…³äºLinuxçš„é‡å®šå‘</h2><ul>
<li>0:è¡¨ç¤ºæ ‡å‡†è¾“å…¥</li>
<li>1:æ ‡å‡†è¾“å‡º,åœ¨ä¸€èˆ¬ä½¿ç”¨æ—¶ï¼Œé»˜è®¤çš„æ˜¯æ ‡å‡†è¾“å‡º</li>
<li>2:æ ‡å‡†é”™è¯¯ä¿¡æ¯è¾“å‡º</li>
</ul>
<h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>è¿™æ ·é—®é¢˜å°±å¾—åˆ°äº†è§£å†³ã€‚<br>å¦‚æœå¤§ç¥ä»¬æœ‰æ›´å¥½è§£å†³æ–¹æ¡ˆå¯ä»¥åœ¨å†™åœ¨è¯„è®ºä¸­</p>
]]></content>
      <tags>
        <tag>nohup</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„å·®</title>
    <url>//articles/2019/10/29/1572338620193.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20171210.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h4 id="exampleï¼š"><a href="#exampleï¼š" class="headerlink" title="exampleï¼š"></a>exampleï¼š</h4><pre><code>TIMESTAMPDIFF(MINUTE, FROM_UNIXTIME(SourceTime) , FROM_UNIXTIME(AccountTime)) AS &#39;å¼€æˆ·æ—¶é—´&#39;,</code></pre>
<ul>
<li>æ—¶é—´å·®å‡½æ•°ï¼šTIMESTAMPDIFF()</li>
</ul>
<h5 id="è¿”å›å€¼æ˜¯-AccountTime-æ—¶é—´æˆ³-å‡å»-SourceTime-æ—¶é—´æˆ³-çš„æ—¶é—´å·®ï¼›"><a href="#è¿”å›å€¼æ˜¯-AccountTime-æ—¶é—´æˆ³-å‡å»-SourceTime-æ—¶é—´æˆ³-çš„æ—¶é—´å·®ï¼›" class="headerlink" title="è¿”å›å€¼æ˜¯ AccountTime (æ—¶é—´æˆ³)  å‡å»  SourceTime(æ—¶é—´æˆ³) çš„æ—¶é—´å·®ï¼›"></a>è¿”å›å€¼æ˜¯ AccountTime (æ—¶é—´æˆ³)  å‡å»  SourceTime(æ—¶é—´æˆ³) çš„æ—¶é—´å·®ï¼›</h5><h5 id="è¿”å›å€¼å¯ä»¥æ˜¯ç§’ï¼Œåˆ†â€¦â€¦ï¼š"><a href="#è¿”å›å€¼å¯ä»¥æ˜¯ç§’ï¼Œåˆ†â€¦â€¦ï¼š" class="headerlink" title="è¿”å›å€¼å¯ä»¥æ˜¯ç§’ï¼Œåˆ†â€¦â€¦ï¼š"></a>è¿”å›å€¼å¯ä»¥æ˜¯ç§’ï¼Œåˆ†â€¦â€¦ï¼š</h5><pre><code>SECOND   --&gt;ç§’ 
MINUTE     --&gt;åˆ†é’Ÿ 
HOUR       --&gt;å°æ—¶
DAY          --&gt;å¤© 
MONTH     --&gt;æœˆ 
YEAR        --&gt;å¹´</code></pre>
<ul>
<li>PSï¼šå¦‚æœæ—¶é—´æ ¼å¼æ˜¯ï¼ˆâ€™Y-m-d H:iï¼šsâ€™ï¼‰åˆ™ä¸éœ€è¦ç”¨FROM_UNIXTIME()å‡½æ•°ï¼Œå¦‚æœæ˜¯æ—¶é—´æˆ³åˆ™éœ€è¦è½¬æ¢æ—¶é—´æ ¼å¼ã€‚</li>
</ul>
]]></content>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>redisä½¿ç”¨çš„å°æŠ€å·§</title>
    <url>//articles/2019/10/29/1572337593869.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20180518.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h3 id="redisä½¿ç”¨çš„å°æŠ€å·§"><a href="#redisä½¿ç”¨çš„å°æŠ€å·§" class="headerlink" title="redisä½¿ç”¨çš„å°æŠ€å·§"></a>redisä½¿ç”¨çš„å°æŠ€å·§</h3><h5 id="æŒ‰ç…§keyæ‰¹é‡åˆ é™¤æŸäº›å€¼"><a href="#æŒ‰ç…§keyæ‰¹é‡åˆ é™¤æŸäº›å€¼" class="headerlink" title="æŒ‰ç…§keyæ‰¹é‡åˆ é™¤æŸäº›å€¼"></a>æŒ‰ç…§keyæ‰¹é‡åˆ é™¤æŸäº›å€¼</h5><pre><code>redis-cli -h 11.11.11.100  -p 6379 -a password keys &quot;key*&quot; | xargs redis-cli -h 11.11.11.100  -p 6379 -a password del</code></pre>
<ul>
<li>è¯´æ˜ redis-cli -h 11.11.11.100   -p 6379 -a passwordç”¨äºç™»é™†rediså®¢æˆ·ç«¯ï¼›-h æ˜¯ipåœ°å€ï¼Œ -pæ˜¯ç«¯å£å·ï¼Œ-a æ˜¯ç™»å½•å¯†ç </li>
<li>â€œkey*â€ ç”¨äºå‰åŒ¹é…åˆ°ç›¸å…³çš„keyçš„å€¼</li>
<li>xargs redis-cli -h 11.11.11.100  -p 6379 -a password del æ‰§è¡Œåˆ é™¤æ“ä½œ</li>
</ul>
<hr>
<h5 id="æŸ¥çœ‹rediså®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°"><a href="#æŸ¥çœ‹rediså®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°" class="headerlink" title="æŸ¥çœ‹rediså®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°"></a>æŸ¥çœ‹rediså®¢æˆ·ç«¯æœ€å¤§è¿æ¥æ•°</h5><h6 id="è¿æ¥redis-cli-åæ‰§è¡Œï¼š"><a href="#è¿æ¥redis-cli-åæ‰§è¡Œï¼š" class="headerlink" title="è¿æ¥redis-cli åæ‰§è¡Œï¼š"></a>è¿æ¥redis-cli åæ‰§è¡Œï¼š</h6><pre><code>config get maxclients</code></pre>
<h6 id="å¦‚æœè¦ä¿®æ”¹ï¼Œå¯åˆ°redis-confä¸­ä¿®æ”¹"><a href="#å¦‚æœè¦ä¿®æ”¹ï¼Œå¯åˆ°redis-confä¸­ä¿®æ”¹" class="headerlink" title="å¦‚æœè¦ä¿®æ”¹ï¼Œå¯åˆ°redis.confä¸­ä¿®æ”¹"></a>å¦‚æœè¦ä¿®æ”¹ï¼Œå¯åˆ°redis.confä¸­ä¿®æ”¹</h6><h5 id="æŸ¥çœ‹rediså½“å‰è¿æ¥æ•°"><a href="#æŸ¥çœ‹rediså½“å‰è¿æ¥æ•°" class="headerlink" title="æŸ¥çœ‹rediså½“å‰è¿æ¥æ•°"></a>æŸ¥çœ‹rediså½“å‰è¿æ¥æ•°</h5><pre><code>info clients</code></pre>
]]></content>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨service redisd start å¯åŠ¨redisæœåŠ¡</title>
    <url>//articles/2019/10/29/1572336502745.html</url>
    <content><![CDATA[<p><img src="https://img.hacpai.com/bing/20200109.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"> </p>
<h4 id="åœºæ™¯æè¿°ï¼š"><a href="#åœºæ™¯æè¿°ï¼š" class="headerlink" title="åœºæ™¯æè¿°ï¼š"></a>åœºæ™¯æè¿°ï¼š</h4><p>å¦‚ä½•ä½¿ç”¨service redisd start å¯åŠ¨redisæœåŠ¡ã€‚ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬ä¹ æƒ¯ä½¿ç”¨service redisd startæ¥å¯åŠ¨redisæœåŠ¡ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™å´å‘ç°ç›´æ¥è¿è¡Œservice redisd start å¹¶æ²¡æœ‰æˆåŠŸå¯åŠ¨redisæœåŠ¡ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¹¶æ²¡æœ‰æ·»åŠ redisçš„serviceã€‚å¦‚æœä½ ä¹Ÿé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« å¯ä»¥å¸®åŠ©åˆ°ä½ ã€‚</p>
<h4 id="é¦–å…ˆï¼Œcdåˆ°redisçš„å®‰è£…ç›®å½•ä¸‹ï¼Œå†cdåˆ°utilï¼Œæ¥ç€æ‰§è¡Œ-install-server-sh"><a href="#é¦–å…ˆï¼Œcdåˆ°redisçš„å®‰è£…ç›®å½•ä¸‹ï¼Œå†cdåˆ°utilï¼Œæ¥ç€æ‰§è¡Œ-install-server-sh" class="headerlink" title="é¦–å…ˆï¼Œcdåˆ°redisçš„å®‰è£…ç›®å½•ä¸‹ï¼Œå†cdåˆ°utilï¼Œæ¥ç€æ‰§è¡Œ./install_server.sh"></a>é¦–å…ˆï¼Œcdåˆ°redisçš„å®‰è£…ç›®å½•ä¸‹ï¼Œå†cdåˆ°utilï¼Œæ¥ç€æ‰§è¡Œ<code>./install_server.sh</code></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;src&#x2F;redis-3.0.7&#x2F;utils</span><br><span class="line">.&#x2F;install_server.sh</span><br></pre></td></tr></table></figure>

<ul>
<li>è¯´æ˜ï¼šè¯¥è¿‡ç¨‹ä¼šé€‰æ‹©ç›¸å…³çš„é…ç½®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé»˜è®¤çš„å°±å¯ä»¥äº†</li>
</ul>
<h4 id="ç„¶åä¿®æ”¹æœåŠ¡åç§°ï¼Œå°†åŸæ¥çš„redis-6379æ›´åä¸ºredisdï¼Œè¿™æ ·ä¸‹æ¬¡å¯åŠ¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š"><a href="#ç„¶åä¿®æ”¹æœåŠ¡åç§°ï¼Œå°†åŸæ¥çš„redis-6379æ›´åä¸ºredisdï¼Œè¿™æ ·ä¸‹æ¬¡å¯åŠ¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š" class="headerlink" title="ç„¶åä¿®æ”¹æœåŠ¡åç§°ï¼Œå°†åŸæ¥çš„redis_6379æ›´åä¸ºredisdï¼Œè¿™æ ·ä¸‹æ¬¡å¯åŠ¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š"></a>ç„¶åä¿®æ”¹æœåŠ¡åç§°ï¼Œå°†åŸæ¥çš„redis_6379æ›´åä¸ºredisdï¼Œè¿™æ ·ä¸‹æ¬¡å¯åŠ¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;etc&#x2F;init.d&#x2F; </span><br><span class="line">mv redis_6379 redisd</span><br></pre></td></tr></table></figure>

<h4 id="ç„¶åï¼Œå°±å¯ä»¥å¯åŠ¨redisæœåŠ¡äº†"><a href="#ç„¶åï¼Œå°±å¯ä»¥å¯åŠ¨redisæœåŠ¡äº†" class="headerlink" title="ç„¶åï¼Œå°±å¯ä»¥å¯åŠ¨redisæœåŠ¡äº†"></a>ç„¶åï¼Œå°±å¯ä»¥å¯åŠ¨redisæœåŠ¡äº†</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service redisd start</span><br></pre></td></tr></table></figure>

<p><em>psï¼šå¦‚æœæ˜¯æƒ³æŒ‰ç…§è‡ªå·±çš„redis.confé…ç½®æ–‡ä»¶å¯åŠ¨redisï¼Œå°±éœ€è¦è¿›å…¥åˆ°redisçš„å®‰è£…ç›®å½•ï¼Œæ‰§è¡Œredis-serveråŠ ä¸Šé…ç½®æ–‡ä»¶çš„å…¨è·¯å¾„ï¼Œå¦‚ï¼š</em></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/src/</span><br><span class="line">redis-server /path/redis.conf</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
</search>
